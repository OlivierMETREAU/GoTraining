
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Go Project Documentation</title>
<style>
  body { margin: 0; font-family: system-ui, sans-serif; display: flex; height: 100vh; overflow: hidden; }
  #sidebar { width: 280px; background: #f5f5f5; border-right: 1px solid #ddd; padding: 10px; overflow-y: auto; box-sizing: border-box; }
  #content { flex: 1; padding: 20px; overflow-y: auto; }
  #searchBox { width: 100%; padding: 6px 8px; margin-bottom: 12px; font-size: 14px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; }
  .file-item { cursor: pointer; padding: 4px 8px; border-radius: 4px; font-size: 14px; }
  .file-item:hover { background: #e0e0e0; }
  .file-item.active { background: #1976d2; color: white; }
  .file-path { font-family: monospace; font-size: 12px; color: #555; }
  .package-name { font-weight: bold; font-size: 18px; margin-bottom: 4px; }
  .comment-block { margin-bottom: 16px; padding: 10px; border-left: 3px solid #1976d2; background: #fafafa; }
  .comment-context { font-weight: bold; font-size: 14px; color: #1976d2; margin-bottom: 6px; }
  .comment-text { white-space: pre-wrap; font-size: 14px; }
  .comment-lines { font-size: 11px; color: #888; margin-top: 4px; }
  mark { background: yellow; padding: 0 2px; }
  h3 { margin-top: 24px; margin-bottom: 8px; }
</style>
</head>

<body>

<div id="sidebar">
  <input id="searchBox" type="text" placeholder="Search files or content..." />

  <h3>Files</h3>
  
    <div class="file-item" 
         data-target="file_bolt_arm.go" 
         data-name="bolt_arm.go"
         data-content="maxMapSize represents the largest mmap size supported by Bolt.
 maxAllocSize is the size used when creating array pointers.
 Are unaligned load/stores broken on this arch?
 ">
      <div>bolt_arm.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_386.go" 
         data-name="bolt_386.go"
         data-content="maxMapSize represents the largest mmap size supported by Bolt.
 maxAllocSize is the size used when creating array pointers.
 Are unaligned load/stores broken on this arch?
 ">
      <div>bolt_386.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_arm64.go" 
         data-name="bolt_arm64.go"
         data-content="maxMapSize represents the largest mmap size supported by Bolt.
 maxAllocSize is the size used when creating array pointers.
 Are unaligned load/stores broken on this arch?
 ">
      <div>bolt_arm64.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_amd64.go" 
         data-name="bolt_amd64.go"
         data-content="maxMapSize represents the largest mmap size supported by Bolt.
 maxAllocSize is the size used when creating array pointers.
 Are unaligned load/stores broken on this arch?
 ">
      <div>bolt_amd64.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_ppc.go" 
         data-name="bolt_ppc.go"
         data-content="maxMapSize represents the largest mmap size supported by Bolt.
 maxAllocSize is the size used when creating array pointers.
 ">
      <div>bolt_ppc.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_linux.go" 
         data-name="bolt_linux.go"
         data-content="fdatasync flushes written data to a file descriptor.
 ">
      <div>bolt_linux.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_ppc64.go" 
         data-name="bolt_ppc64.go"
         data-content="maxMapSize represents the largest mmap size supported by Bolt.
 maxAllocSize is the size used when creating array pointers.
 Are unaligned load/stores broken on this arch?
 ">
      <div>bolt_ppc64.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_ppc64le.go" 
         data-name="bolt_ppc64le.go"
         data-content="maxMapSize represents the largest mmap size supported by Bolt.
 maxAllocSize is the size used when creating array pointers.
 Are unaligned load/stores broken on this arch?
 ">
      <div>bolt_ppc64le.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_s390x.go" 
         data-name="bolt_s390x.go"
         data-content="maxMapSize represents the largest mmap size supported by Bolt.
 maxAllocSize is the size used when creating array pointers.
 Are unaligned load/stores broken on this arch?
 ">
      <div>bolt_s390x.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_openbsd.go" 
         data-name="bolt_openbsd.go"
         data-content="">
      <div>bolt_openbsd.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_boltsync_unix.go" 
         data-name="boltsync_unix.go"
         data-content="fdatasync flushes written data to a file descriptor.
 ">
      <div>boltsync_unix.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_unix.go" 
         data-name="bolt_unix.go"
         data-content="flock acquires an advisory lock on a file descriptor.
 funlock releases an advisory lock on a file descriptor.
 mmap memory maps a DB's data file.
 munmap unmaps a DB's data file from memory.
 NOTE: This function is copied from stdlib because it is not available on darwin.
 ">
      <div>bolt_unix.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_unix_solaris.go" 
         data-name="bolt_unix_solaris.go"
         data-content="flock acquires an advisory lock on a file descriptor.
 funlock releases an advisory lock on a file descriptor.
 mmap memory maps a DB's data file.
 munmap unmaps a DB's data file from memory.
 ">
      <div>bolt_unix_solaris.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bolt_windows.go" 
         data-name="bolt_windows.go"
         data-content="fdatasync flushes written data to a file descriptor.
 flock acquires an advisory lock on a file descriptor.
 funlock releases an advisory lock on a file descriptor.
 mmap memory maps a DB's data file.
Based on: https://github.com/edsrzf/mmap-go
 munmap unmaps a pointer from a file.
Based on: https://github.com/edsrzf/mmap-go
 LockFileEx code derived from golang build filemutex_windows.go @ v1.5.1
 ">
      <div>bolt_windows.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_cursor.go" 
         data-name="cursor.go"
         data-content="Bucket returns the bucket that this cursor was created from.
 First moves the cursor to the first item in the bucket and returns its key and value.
If the bucket is empty then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
 Last moves the cursor to the last item in the bucket and returns its key and value.
If the bucket is empty then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
 Next moves the cursor to the next item in the bucket and returns its key and value.
If the cursor is at the end of the bucket then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
 Prev moves the cursor to the previous item in the bucket and returns its key and value.
If the cursor is at the beginning of the bucket then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
 Seek moves the cursor to a given key and returns it.
If the key does not exist then the next key is used. If no keys
follow, a nil key is returned.
The returned key and value are only valid for the life of the transaction.
 Delete removes the current key/value under the cursor from the bucket.
Delete fails if current key/value is a bucket or if the transaction is not writable.
 seek moves the cursor to a given key and returns it.
If the key does not exist then the next key is used.
 first moves the cursor to the first leaf element under the last page in the stack.
 last moves the cursor to the last leaf element under the last page in the stack.
 next moves to the next leaf element and returns the key and value.
If the cursor is at the last leaf element then it stays there and returns nil.
 search recursively performs a binary search against a given page/node until it finds a given key.
 nsearch searches the leaf node on the top of the stack for a key.
 keyValue returns the key and value of the current leaf element.
 node returns the node that the cursor is currently positioned on.
 isLeaf returns whether the ref is pointing at a leaf page/node.
 count returns the number of inodes or page elements.
 Cursor represents an iterator that can traverse over all key/value pairs in a bucket in sorted order.
Cursors see nested buckets with value == nil.
Cursors can be obtained from a transaction and are valid as long as the transaction is open.

Keys and values returned from the cursor are only valid for the life of the transaction.

Changing data while traversing with a cursor may cause it to be invalidated
and return unexpected keys and/or values. You must reposition your cursor
after mutating data.
 elemRef represents a reference to an element on a given page/node.
 Exit when we hit a leaf page.
 Keep adding pages pointing to the first element to the stack.
 Keep adding pages pointing to the last element in the stack.
 Attempt to move over one element until we're successful.
Move up the stack as we hit the end of each page in our stack.
 Start from root and traverse down the hierarchy.
 ">
      <div>cursor.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_doc.go" 
         data-name="doc.go"
         data-content="Package bolt implements a low-level key/value store in pure Go. It supports
fully serializable transactions, ACID semantics, and lock-free MVCC with
multiple readers and a single writer. Bolt can be used for projects that
want a simple data store without the need to add large dependencies such as
Postgres or MySQL.

Bolt is a single-level, zero-copy, B+tree data store. This means that Bolt is
optimized for fast read access and does not require recovery in the event of a
system crash. Transactions which have not finished committing will simply be
rolled back in the event of a crash.

The design of Bolt is based on Howard Chu's LMDB database project.

Bolt currently works on Windows, Mac OS X, and Linux.

Basics

There are only a few types in Bolt: DB, Bucket, Tx, and Cursor. The DB is
a collection of buckets and is represented by a single file on disk. A bucket is
a collection of unique keys that are associated with values.

Transactions provide either read-only or read-write access to the database.
Read-only transactions can retrieve key/value pairs and can use Cursors to
iterate over the dataset sequentially. Read-write transactions can create and
delete buckets and can insert and remove keys. Only one read-write transaction
is allowed at a time.

Caveats

The database uses a read-only, memory-mapped data file to ensure that
applications cannot corrupt the database, however, this means that keys and
values returned from Bolt cannot be changed. Writing to a read-only byte slice
will cause Go to panic.

Keys and values retrieved from the database are only valid for the life of
the transaction. When used outside the transaction, these byte slices can
point to different data or can point to invalid memory which will cause a panic.
 ">
      <div>doc.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_errors.go" 
         data-name="errors.go"
         data-content="These errors can be returned when opening or calling methods on a DB.
 These errors can occur when beginning or committing a Tx.
 These errors can occur when putting or deleting a value or a bucket.
 ">
      <div>errors.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_freelist.go" 
         data-name="freelist.go"
         data-content="newFreelist returns an empty, initialized freelist.
 size returns the size of the page after serialization.
 count returns count of pages on the freelist
 free_count returns count of free pages
 pending_count returns count of pending pages
 copyall copies into dst a list of all free ids and all pending ids in one sorted list.
f.count returns the minimum length required for dst.
 allocate returns the starting page id of a contiguous list of pages of a given size.
If a contiguous block cannot be found then 0 is returned.
 free releases a page and its overflow for a given transaction id.
If the page is already free then a panic will occur.
 release moves all page ids for a transaction id (or older) to the freelist.
 rollback removes the pages from a given pending tx.
 freed returns whether a given page is in the free list.
 read initializes the freelist from a freelist page.
 write writes the page ids onto a freelist page. All free and pending ids are
saved to disk since in the event of a program crash, all pending ids will
become free.
 reload reads the freelist from a page and filters out pending items.
 reindex rebuilds the free cache based on available and pending free lists.
 freelist represents a list of all pages that are available for allocation.
It also tracks pages that have been freed but are still in use by open transactions.
 Free page and all its overflow pages.
 Check each page in the freelist and build a new available freelist
with any pages not in the pending lists.
 ">
      <div>freelist.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_bucket.go" 
         data-name="bucket.go"
         data-content="DefaultFillPercent is the percentage that split pages are filled.
This value can be changed by setting Bucket.FillPercent.
 newBucket returns a new bucket associated with a transaction.
 Tx returns the tx of the bucket.
 Root returns the root of the bucket.
 Writable returns whether the bucket is writable.
 Cursor creates a cursor associated with the bucket.
The cursor is only valid as long as the transaction is open.
Do not use a cursor after the transaction is closed.
 Bucket retrieves a nested bucket by name.
Returns nil if the bucket does not exist.
The bucket instance is only valid for the lifetime of the transaction.
 Helper method that re-interprets a sub-bucket value
from a parent into a Bucket
 CreateBucket creates a new bucket at the given key and returns the new bucket.
Returns an error if the key already exists, if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
 CreateBucketIfNotExists creates a new bucket if it doesn't already exist and returns a reference to it.
Returns an error if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
 DeleteBucket deletes a bucket at the given key.
Returns an error if the bucket does not exists, or if the key represents a non-bucket value.
 Get retrieves the value for a key in the bucket.
Returns a nil value if the key does not exist or if the key is a nested bucket.
The returned value is only valid for the life of the transaction.
 Put sets the value for a key in the bucket.
If the key exist then its previous value will be overwritten.
Supplied value must remain valid for the life of the transaction.
Returns an error if the bucket was created from a read-only transaction, if the key is blank, if the key is too large, or if the value is too large.
 Delete removes a key from the bucket.
If the key does not exist then nothing is done and a nil error is returned.
Returns an error if the bucket was created from a read-only transaction.
 Sequence returns the current integer for the bucket without incrementing it.
 SetSequence updates the sequence number for the bucket.
 NextSequence returns an autoincrementing integer for the bucket.
 ForEach executes a function for each key/value pair in a bucket.
If the provided function returns an error then the iteration is stopped and
the error is returned to the caller. The provided function must not modify
the bucket; this will result in undefined behavior.
 Stat returns stats on a bucket.
 forEachPage iterates over every page in a bucket, including inline pages.
 forEachPageNode iterates over every page (or node) in a bucket.
This also includes inline pages.
 spill writes all the nodes for this bucket to dirty pages.
 inlineable returns true if a bucket is small enough to be written inline
and if it contains no subbuckets. Otherwise returns false.
 Returns the maximum total size of a bucket to make it a candidate for inlining.
 write allocates and writes a bucket to a byte slice.
 rebalance attempts to balance all nodes.
 node creates a node from a page and associates it with a given parent.
 free recursively frees all pages in the bucket.
 dereference removes all references to the old mmap.
 pageNode returns the in-memory node, if it exists.
Otherwise returns the underlying page.
 cloneBytes returns a copy of a given slice.
 Bucket represents a collection of key/value pairs inside the database.
 bucket represents the on-file representation of a bucket.
This is stored as the "value" of a bucket key. If the bucket is small enough,
then its root page can be stored inline in the "value", after the bucket
header. In the case of inline buckets, the "root" will be 0.
 BucketStats records statistics about resources used by a bucket.
 Otherwise create a bucket and cache it.
 Create empty, inline bucket.
 If the child bucket is small enough and it has no child buckets then
write it inline into the parent bucket's page. Otherwise spill it
like a normal bucket and make the parent value a pointer to the page.
 Update parent node.
 Bucket is not inlineable if it contains subbuckets or if it goes beyond
our threshold for inline bucket size.
 Allocate the appropriate size.
 Write a bucket header.
 Convert byte slice to a fake page and write the root node.
 Use the inline page if this is an inline bucket.
 ">
      <div>bucket.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_cmd_bolt_main.go" 
         data-name="cmd\bolt\main.go"
         data-content="PageHeaderSize represents the size of the bolt.page header.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 NewMain returns a new instance of Main connect to the standard input/output.
 Run executes the program.
 Usage returns the help message.
 NewCheckCommand returns a CheckCommand.
 Run executes the command.
 Usage returns the help message.
 NewInfoCommand returns a InfoCommand.
 Run executes the command.
 Usage returns the help message.
 newDumpCommand returns a DumpCommand.
 Run executes the command.
 PrintPage prints a given page as hexadecimal.
 Usage returns the help message.
 newPageCommand returns a PageCommand.
 Run executes the command.
 PrintMeta prints the data from the meta page.
 PrintLeaf prints the data for a leaf page.
 PrintBranch prints the data for a leaf page.
 PrintFreelist prints the data for a freelist page.
 PrintPage prints a given page as hexadecimal.
 Usage returns the help message.
 NewPagesCommand returns a PagesCommand.
 Run executes the command.
 Usage returns the help message.
 NewStatsCommand returns a StatsCommand.
 Run executes the command.
 Usage returns the help message.
 NewBenchCommand returns a BenchCommand using the
 Run executes the "bench" command.
 ParseFlags parses the command line flags.
 Writes to the database.
 Reads from the database.
 Starts all profiles set on the options.
 Stops all profiles.
 Returns the duration for a single write operation.
 Returns average number of write operations that can be performed per second.
 Returns the duration for a single read operation.
 Returns average number of read operations that can be performed per second.
 isPrintable returns true if the string is valid unicode and contains only printable runes.
 ReadPage reads page info & full page data from a path.
This is not transactionally safe.
 ReadPageSize reads page size a path.
This is not transactionally safe.
 atois parses a slice of strings into integers.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 newCompactCommand returns a CompactCommand.
 Run executes the command.
 walk walks recursively the bolt database db, calling walkFn for each key it finds.
 Usage returns the help message.
 Main represents the main program execution.
 CheckCommand represents the "check" command execution.
 InfoCommand represents the "info" command execution.
 DumpCommand represents the "dump" command execution.
 PageCommand represents the "page" command execution.
 PagesCommand represents the "pages" command execution.
 StatsCommand represents the "stats" command execution.
 BenchCommand represents the "bench" command execution.
 BenchOptions represents the set of options that can be passed to "bolt bench".
 BenchResults represents the performance results of the benchmark.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 DO NOT EDIT. Copied from the "bolt" package.
 CompactCommand represents the "compact" command execution.
 walkFunc is the type of the function called for keys (buckets and "normal"
values) discovered by Walk. keys is the list of keys to descend to the bucket
owning the discovered key/value pair k/v.
 Write out to writer in 16-byte lines.
 Format key as string.
 Format value as string.
 Format key as string.
 Write out to writer in 16-byte lines.
 Only display count and overflow if this is a non-free page.
 Write to the database.
 File handlers for the various profiles.
 commit regularly, or we'll run out of memory for large datasets if using one transaction.
 ">
      <div>cmd\bolt\main.go</div>
      <div class="file-path">main</div>
    </div>
  
    <div class="file-item" 
         data-target="file_db.go" 
         data-name="db.go"
         data-content="The largest step that can be taken when remapping the mmap.
 The data file format version.
 Represents a marker value to indicate that a file is a Bolt DB.
 IgnoreNoSync specifies whether the NoSync field of a DB is ignored when
syncing changes to a file.  This is required as some operating systems,
such as OpenBSD, do not have a unified buffer cache (UBC) and writes
must be synchronized using the msync(2) syscall.
 Default values if not set in a DB instance.
 Path returns the path to currently open database file.
 GoString returns the Go string representation of the database.
 String returns the string representation of the database.
 Open creates and opens a database at the given path.
If the file does not exist then it will be created automatically.
Passing in nil options will cause Bolt to open the database with the default options.
 mmap opens the underlying memory-mapped file and initializes the meta references.
minsz is the minimum size that the new mmap can be.
 munmap unmaps the data file from memory.
 mmapSize determines the appropriate size for the mmap given the current size
of the database. The minimum size is 32KB and doubles until it reaches 1GB.
Returns an error if the new mmap size is greater than the max allowed.
 init creates a new database file and initializes its meta pages.
 Close releases all database resources.
All transactions must be closed before closing the database.
 Begin starts a new transaction.
Multiple read-only transactions can be used concurrently but only one
write transaction can be used at a time. Starting multiple write transactions
will cause the calls to block and be serialized until the current write
transaction finishes.

Transactions should not be dependent on one another. Opening a read
transaction and a write transaction in the same goroutine can cause the
writer to deadlock because the database periodically needs to re-mmap itself
as it grows and it cannot do that while a read transaction is open.

If a long running read transaction (for example, a snapshot transaction) is
needed, you might want to set DB.InitialMmapSize to a large enough value
to avoid potential blocking of write transaction.

IMPORTANT: You must close read-only transactions after you are finished or
else the database will not reclaim old pages.
 removeTx removes a transaction from the database.
 Update executes a function within the context of a read-write managed transaction.
If no error is returned from the function then the transaction is committed.
If an error is returned then the entire transaction is rolled back.
Any error that is returned from the function or returned from the commit is
returned from the Update() method.

Attempting to manually commit or rollback within the function will cause a panic.
 View executes a function within the context of a managed read-only transaction.
Any error that is returned from the function is returned from the View() method.

Attempting to manually rollback within the function will cause a panic.
 Batch calls fn as part of a batch. It behaves similar to Update,
except:

1. concurrent Batch calls can be combined into a single Bolt
transaction.

2. the function passed to Batch may be called multiple times,
regardless of whether it returns error or not.

This means that Batch function side effects must be idempotent and
take permanent effect only after a successful return is seen in
caller.

The maximum batch size and delay can be adjusted with DB.MaxBatchSize
and DB.MaxBatchDelay, respectively.

Batch is only useful when there are multiple goroutines calling it.
 trigger runs the batch if it hasn't already been run.
 run performs the transactions in the batch and communicates results
back to DB.Batch.
 Sync executes fdatasync() against the database file handle.

This is not necessary under normal operation, however, if you use NoSync
then it allows you to force the database file to sync against the disk.
 Stats retrieves ongoing performance stats for the database.
This is only updated when a transaction closes.
 This is for internal access to the raw data bytes from the C cursor, use
carefully, or not at all.
 page retrieves a page reference from the mmap based on the current page size.
 pageInBuffer retrieves a page reference from a given byte array based on the current page size.
 meta retrieves the current meta page reference.
 allocate returns a contiguous block of memory starting at a given page.
 grow grows the size of the database to the given sz.
 Sub calculates and returns the difference between two sets of database stats.
This is useful when obtaining stats at two different points and time and
you need the performance counters that occurred within that time span.
 validate checks the marker bytes and version of the meta page to ensure it matches this binary.
 copy copies one meta object to another.
 write writes the meta onto a page.
 generates the checksum for the meta.
 _assert will panic with a given formatted message if the given condition is false.
 DB represents a collection of buckets persisted to a file on disk.
All data access is performed through transactions which can be obtained through the DB.
All the functions on DB will return a ErrDatabaseNotOpen if accessed before Open() is called.
 Options represents the options that can be set when opening a database.
 Stats represents statistics about the database.
 default page size for db is set to the OS page size.
 Read the first meta page to determine the page size.
 Ensure the size is at least the minimum size.
 Free any pages associated with closed read-only transactions.
 trySolo is a special sentinel error value used for signaling that a
transaction function should be re-run. It should never be seen by
callers.
 Allocate a temporary buffer for the page.
 DefaultOptions represent the options used if nil options are passed into Open().
No timeout is used which will cause Bolt to wait indefinitely for a lock.
 ">
      <div>db.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_node.go" 
         data-name="node.go"
         data-content="root returns the top-level node this node is attached to.
 minKeys returns the minimum number of inodes this node should have.
 size returns the size of the node after serialization.
 sizeLessThan returns true if the node is less than a given size.
This is an optimization to avoid calculating a large node when we only need
to know if it fits inside a certain page size.
 pageElementSize returns the size of each page element based on the type of node.
 childAt returns the child node at a given index.
 childIndex returns the index of a given child node.
 numChildren returns the number of children.
 nextSibling returns the next node with the same parent.
 prevSibling returns the previous node with the same parent.
 put inserts a key/value.
 del removes a key from the node.
 read initializes the node from a page.
 write writes the items onto one or more pages.
 split breaks up a node into multiple smaller nodes, if appropriate.
This should only be called from the spill() function.
 splitTwo breaks up a node into two smaller nodes, if appropriate.
This should only be called from the split() function.
 splitIndex finds the position where a page will fill a given threshold.
It returns the index as well as the size of the first page.
This is only be called from split().
 spill writes the nodes to dirty pages and splits nodes as it goes.
Returns an error if dirty pages cannot be allocated.
 rebalance attempts to combine the node with sibling nodes if the node fill
size is below a threshold or if there are not enough keys.
 removes a node from the list of in-memory children.
This does not affect the inodes.
 dereference causes the node to copy all its inode key/value references to heap memory.
This is required when the mmap is reallocated so inodes are not pointing to stale data.
 free adds the node's underlying page to the freelist.
 node represents an in-memory, deserialized page.
 inode represents an internal node inside of a node.
It can be used to point to elements in a page or point
to an element which hasn't been added to a page yet.
 Determine the threshold before starting a new node.
 Split nodes into appropriate sizes. The first node will always be n.
 Ignore if node is above threshold (25%) and has enough keys.
 Destination node is right sibling if idx == 0, otherwise left sibling.
 ">
      <div>node.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_page.go" 
         data-name="page.go"
         data-content="typ returns a human readable page type string used for debugging.
 meta returns a pointer to the metadata section of the page.
 leafPageElement retrieves the leaf node by index
 leafPageElements retrieves a list of leaf nodes.
 branchPageElement retrieves the branch node by index
 branchPageElements retrieves a list of branch nodes.
 dump writes n bytes of the page to STDERR as hex output.
 key returns a byte slice of the node key.
 key returns a byte slice of the node key.
 value returns a byte slice of the node value.
 merge returns the sorted union of a and b.
 mergepgids copies the sorted union of a and b into dst.
If dst is too small, it panics.
 branchPageElement represents a node on a branch page.
 leafPageElement represents a node on a leaf page.
 PageInfo represents human readable information about a page.
 ">
      <div>page.go</div>
      <div class="file-path">bolt</div>
    </div>
  
    <div class="file-item" 
         data-target="file_tx.go" 
         data-name="tx.go"
         data-content="init initializes the transaction.
 ID returns the transaction id.
 DB returns a reference to the database that created the transaction.
 Size returns current database size in bytes as seen by this transaction.
 Writable returns whether the transaction can perform write operations.
 Cursor creates a cursor associated with the root bucket.
All items in the cursor will return a nil value because all root bucket keys point to buckets.
The cursor is only valid as long as the transaction is open.
Do not use a cursor after the transaction is closed.
 Stats retrieves a copy of the current transaction statistics.
 Bucket retrieves a bucket by name.
Returns nil if the bucket does not exist.
The bucket instance is only valid for the lifetime of the transaction.
 CreateBucket creates a new bucket.
Returns an error if the bucket already exists, if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
 CreateBucketIfNotExists creates a new bucket if it doesn't already exist.
Returns an error if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
 DeleteBucket deletes a bucket.
Returns an error if the bucket cannot be found or if the key represents a non-bucket value.
 ForEach executes a function for each bucket in the root.
If the provided function returns an error then the iteration is stopped and
the error is returned to the caller.
 OnCommit adds a handler function to be executed after the transaction successfully commits.
 Commit writes all changes to disk and updates the meta page.
Returns an error if a disk write error occurs, or if Commit is
called on a read-only transaction.
 Rollback closes the transaction and ignores all previous updates. Read-only
transactions must be rolled back and not committed.
 Copy writes the entire database to a writer.
This function exists for backwards compatibility.

Deprecated; Use WriteTo() instead.
 WriteTo writes the entire database to a writer.
If err == nil then exactly tx.Size() bytes will be written into the writer.
 CopyFile copies the entire database to file at the given path.
A reader transaction is maintained during the copy so it is safe to continue
using the database while a copy is in progress.
 Check performs several consistency checks on the database for this transaction.
An error is returned if any inconsistency is found.

It can be safely run concurrently on a writable transaction. However, this
incurs a high cost for large databases and databases with a lot of subbuckets
because of caching. This overhead can be removed if running on a read-only
transaction, however, it is not safe to execute other writer transactions at
the same time.
 allocate returns a contiguous block of memory starting at a given page.
 write writes any dirty pages to disk.
 writeMeta writes the meta to the disk.
 page returns a reference to the page with a given id.
If page has been written to then a temporary buffered page is returned.
 forEachPage iterates over every page within a given page and executes a function.
 Page returns page information for a given page number.
This is only safe for concurrent use when used by a writable transaction.
 Sub calculates and returns the difference between two sets of transaction stats.
This is useful when obtaining stats at two different points and time and
you need the performance counters that occurred within that time span.
 txid represents the internal transaction identifier.
 Tx represents a read-only or read/write transaction on the database.
Read-only transactions can be used for retrieving values for keys and creating cursors.
Read/write transactions can create and remove buckets and create and remove keys.

IMPORTANT: You must commit or rollback transactions when you are done with
them. Pages can not be reclaimed by the writer until no more transactions
are using them. A long running read transaction can cause the database to
quickly grow.
 TxStats represents statistics about the actions performed by the transaction.
 Rebalance nodes which have had deletions.
 Grab freelist stats.
 ">
      <div>tx.go</div>
      <div class="file-path">bolt</div>
    </div>
  
</div>

<div id="content">
  
  <div class="file-doc" id="file_bolt_arm.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_arm.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="maxMapSize represents the largest mmap size supported by Bolt.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxMapSize represents the largest mmap size supported by Bolt.
</div>
          <div class="comment-lines">Lines 5–5</div>
        </div>
        
        <div class="comment-block" data-text="maxAllocSize is the size used when creating array pointers.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxAllocSize is the size used when creating array pointers.
</div>
          <div class="comment-lines">Lines 8–8</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Are unaligned load/stores broken on this arch?
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Are unaligned load/stores broken on this arch?
</div>
          <div class="comment-lines">Lines 11–11</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_386.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_386.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="maxMapSize represents the largest mmap size supported by Bolt.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxMapSize represents the largest mmap size supported by Bolt.
</div>
          <div class="comment-lines">Lines 3–3</div>
        </div>
        
        <div class="comment-block" data-text="maxAllocSize is the size used when creating array pointers.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxAllocSize is the size used when creating array pointers.
</div>
          <div class="comment-lines">Lines 6–6</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Are unaligned load/stores broken on this arch?
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Are unaligned load/stores broken on this arch?
</div>
          <div class="comment-lines">Lines 9–9</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_arm64.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_arm64.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="maxMapSize represents the largest mmap size supported by Bolt.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxMapSize represents the largest mmap size supported by Bolt.
</div>
          <div class="comment-lines">Lines 5–5</div>
        </div>
        
        <div class="comment-block" data-text="maxAllocSize is the size used when creating array pointers.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxAllocSize is the size used when creating array pointers.
</div>
          <div class="comment-lines">Lines 8–8</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Are unaligned load/stores broken on this arch?
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Are unaligned load/stores broken on this arch?
</div>
          <div class="comment-lines">Lines 11–11</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_amd64.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_amd64.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="maxMapSize represents the largest mmap size supported by Bolt.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxMapSize represents the largest mmap size supported by Bolt.
</div>
          <div class="comment-lines">Lines 3–3</div>
        </div>
        
        <div class="comment-block" data-text="maxAllocSize is the size used when creating array pointers.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxAllocSize is the size used when creating array pointers.
</div>
          <div class="comment-lines">Lines 6–6</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Are unaligned load/stores broken on this arch?
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Are unaligned load/stores broken on this arch?
</div>
          <div class="comment-lines">Lines 9–9</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_ppc.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_ppc.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="maxMapSize represents the largest mmap size supported by Bolt.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxMapSize represents the largest mmap size supported by Bolt.
</div>
          <div class="comment-lines">Lines 5–5</div>
        </div>
        
        <div class="comment-block" data-text="maxAllocSize is the size used when creating array pointers.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxAllocSize is the size used when creating array pointers.
</div>
          <div class="comment-lines">Lines 8–8</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_linux.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_linux.go</div>
    <hr>

    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="fdatasync flushes written data to a file descriptor.
">
          <div class="comment-context">
            function — fdatasync
          </div>
          <div class="comment-text">fdatasync flushes written data to a file descriptor.
</div>
          <div class="comment-lines">Lines 7–7</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_ppc64.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_ppc64.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="maxMapSize represents the largest mmap size supported by Bolt.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxMapSize represents the largest mmap size supported by Bolt.
</div>
          <div class="comment-lines">Lines 5–5</div>
        </div>
        
        <div class="comment-block" data-text="maxAllocSize is the size used when creating array pointers.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxAllocSize is the size used when creating array pointers.
</div>
          <div class="comment-lines">Lines 8–8</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Are unaligned load/stores broken on this arch?
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Are unaligned load/stores broken on this arch?
</div>
          <div class="comment-lines">Lines 11–11</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_ppc64le.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_ppc64le.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="maxMapSize represents the largest mmap size supported by Bolt.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxMapSize represents the largest mmap size supported by Bolt.
</div>
          <div class="comment-lines">Lines 5–5</div>
        </div>
        
        <div class="comment-block" data-text="maxAllocSize is the size used when creating array pointers.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxAllocSize is the size used when creating array pointers.
</div>
          <div class="comment-lines">Lines 8–8</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Are unaligned load/stores broken on this arch?
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Are unaligned load/stores broken on this arch?
</div>
          <div class="comment-lines">Lines 11–11</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_s390x.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_s390x.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="maxMapSize represents the largest mmap size supported by Bolt.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxMapSize represents the largest mmap size supported by Bolt.
</div>
          <div class="comment-lines">Lines 5–5</div>
        </div>
        
        <div class="comment-block" data-text="maxAllocSize is the size used when creating array pointers.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">maxAllocSize is the size used when creating array pointers.
</div>
          <div class="comment-lines">Lines 8–8</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Are unaligned load/stores broken on this arch?
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Are unaligned load/stores broken on this arch?
</div>
          <div class="comment-lines">Lines 11–11</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_openbsd.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_openbsd.go</div>
    <hr>

    
  </div>
  
  <div class="file-doc" id="file_boltsync_unix.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">boltsync_unix.go</div>
    <hr>

    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="fdatasync flushes written data to a file descriptor.
">
          <div class="comment-context">
            function — fdatasync
          </div>
          <div class="comment-text">fdatasync flushes written data to a file descriptor.
</div>
          <div class="comment-lines">Lines 5–5</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_unix.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_unix.go</div>
    <hr>

    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="flock acquires an advisory lock on a file descriptor.
">
          <div class="comment-context">
            function — flock
          </div>
          <div class="comment-text">flock acquires an advisory lock on a file descriptor.
</div>
          <div class="comment-lines">Lines 13–13</div>
        </div>
        
        <div class="comment-block" data-text="funlock releases an advisory lock on a file descriptor.
">
          <div class="comment-context">
            function — funlock
          </div>
          <div class="comment-text">funlock releases an advisory lock on a file descriptor.
</div>
          <div class="comment-lines">Lines 42–42</div>
        </div>
        
        <div class="comment-block" data-text="mmap memory maps a DB's data file.
">
          <div class="comment-context">
            function — mmap
          </div>
          <div class="comment-text">mmap memory maps a DB's data file.
</div>
          <div class="comment-lines">Lines 47–47</div>
        </div>
        
        <div class="comment-block" data-text="munmap unmaps a DB's data file from memory.
">
          <div class="comment-context">
            function — munmap
          </div>
          <div class="comment-text">munmap unmaps a DB's data file from memory.
</div>
          <div class="comment-lines">Lines 67–67</div>
        </div>
        
        <div class="comment-block" data-text="NOTE: This function is copied from stdlib because it is not available on darwin.
">
          <div class="comment-context">
            function — madvise
          </div>
          <div class="comment-text">NOTE: This function is copied from stdlib because it is not available on darwin.
</div>
          <div class="comment-lines">Lines 82–82</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_unix_solaris.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_unix_solaris.go</div>
    <hr>

    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="flock acquires an advisory lock on a file descriptor.
">
          <div class="comment-context">
            function — flock
          </div>
          <div class="comment-text">flock acquires an advisory lock on a file descriptor.
</div>
          <div class="comment-lines">Lines 13–13</div>
        </div>
        
        <div class="comment-block" data-text="funlock releases an advisory lock on a file descriptor.
">
          <div class="comment-context">
            function — funlock
          </div>
          <div class="comment-text">funlock releases an advisory lock on a file descriptor.
</div>
          <div class="comment-lines">Lines 47–47</div>
        </div>
        
        <div class="comment-block" data-text="mmap memory maps a DB's data file.
">
          <div class="comment-context">
            function — mmap
          </div>
          <div class="comment-text">mmap memory maps a DB's data file.
</div>
          <div class="comment-lines">Lines 57–57</div>
        </div>
        
        <div class="comment-block" data-text="munmap unmaps a DB's data file from memory.
">
          <div class="comment-context">
            function — munmap
          </div>
          <div class="comment-text">munmap unmaps a DB's data file from memory.
</div>
          <div class="comment-lines">Lines 77–77</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bolt_windows.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bolt_windows.go</div>
    <hr>

    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="fdatasync flushes written data to a file descriptor.
">
          <div class="comment-context">
            function — fdatasync
          </div>
          <div class="comment-text">fdatasync flushes written data to a file descriptor.
</div>
          <div class="comment-lines">Lines 45–45</div>
        </div>
        
        <div class="comment-block" data-text="flock acquires an advisory lock on a file descriptor.
">
          <div class="comment-context">
            function — flock
          </div>
          <div class="comment-text">flock acquires an advisory lock on a file descriptor.
</div>
          <div class="comment-lines">Lines 50–50</div>
        </div>
        
        <div class="comment-block" data-text="funlock releases an advisory lock on a file descriptor.
">
          <div class="comment-context">
            function — funlock
          </div>
          <div class="comment-text">funlock releases an advisory lock on a file descriptor.
</div>
          <div class="comment-lines">Lines 88–88</div>
        </div>
        
        <div class="comment-block" data-text="mmap memory maps a DB's data file.
Based on: https://github.com/edsrzf/mmap-go
">
          <div class="comment-context">
            function — mmap
          </div>
          <div class="comment-text">mmap memory maps a DB's data file.
Based on: https://github.com/edsrzf/mmap-go
</div>
          <div class="comment-lines">Lines 96–97</div>
        </div>
        
        <div class="comment-block" data-text="munmap unmaps a pointer from a file.
Based on: https://github.com/edsrzf/mmap-go
">
          <div class="comment-context">
            function — munmap
          </div>
          <div class="comment-text">munmap unmaps a pointer from a file.
Based on: https://github.com/edsrzf/mmap-go
</div>
          <div class="comment-lines">Lines 132–133</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="LockFileEx code derived from golang build filemutex_windows.go @ v1.5.1
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">LockFileEx code derived from golang build filemutex_windows.go @ v1.5.1
</div>
          <div class="comment-lines">Lines 11–11</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_cursor.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">cursor.go</div>
    <hr>

    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="Bucket returns the bucket that this cursor was created from.
">
          <div class="comment-context">
            function — Bucket
          </div>
          <div class="comment-text">Bucket returns the bucket that this cursor was created from.
</div>
          <div class="comment-lines">Lines 23–23</div>
        </div>
        
        <div class="comment-block" data-text="First moves the cursor to the first item in the bucket and returns its key and value.
If the bucket is empty then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
">
          <div class="comment-context">
            function — First
          </div>
          <div class="comment-text">First moves the cursor to the first item in the bucket and returns its key and value.
If the bucket is empty then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
</div>
          <div class="comment-lines">Lines 28–30</div>
        </div>
        
        <div class="comment-block" data-text="Last moves the cursor to the last item in the bucket and returns its key and value.
If the bucket is empty then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
">
          <div class="comment-context">
            function — Last
          </div>
          <div class="comment-text">Last moves the cursor to the last item in the bucket and returns its key and value.
If the bucket is empty then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
</div>
          <div class="comment-lines">Lines 52–54</div>
        </div>
        
        <div class="comment-block" data-text="Next moves the cursor to the next item in the bucket and returns its key and value.
If the cursor is at the end of the bucket then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
">
          <div class="comment-context">
            function — Next
          </div>
          <div class="comment-text">Next moves the cursor to the next item in the bucket and returns its key and value.
If the cursor is at the end of the bucket then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
</div>
          <div class="comment-lines">Lines 70–72</div>
        </div>
        
        <div class="comment-block" data-text="Prev moves the cursor to the previous item in the bucket and returns its key and value.
If the cursor is at the beginning of the bucket then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
">
          <div class="comment-context">
            function — Prev
          </div>
          <div class="comment-text">Prev moves the cursor to the previous item in the bucket and returns its key and value.
If the cursor is at the beginning of the bucket then a nil key and value are returned.
The returned key and value are only valid for the life of the transaction.
</div>
          <div class="comment-lines">Lines 82–84</div>
        </div>
        
        <div class="comment-block" data-text="Seek moves the cursor to a given key and returns it.
If the key does not exist then the next key is used. If no keys
follow, a nil key is returned.
The returned key and value are only valid for the life of the transaction.
">
          <div class="comment-context">
            function — Seek
          </div>
          <div class="comment-text">Seek moves the cursor to a given key and returns it.
If the key does not exist then the next key is used. If no keys
follow, a nil key is returned.
The returned key and value are only valid for the life of the transaction.
</div>
          <div class="comment-lines">Lines 113–116</div>
        </div>
        
        <div class="comment-block" data-text="Delete removes the current key/value under the cursor from the bucket.
Delete fails if current key/value is a bucket or if the transaction is not writable.
">
          <div class="comment-context">
            function — Delete
          </div>
          <div class="comment-text">Delete removes the current key/value under the cursor from the bucket.
Delete fails if current key/value is a bucket or if the transaction is not writable.
</div>
          <div class="comment-lines">Lines 133–134</div>
        </div>
        
        <div class="comment-block" data-text="seek moves the cursor to a given key and returns it.
If the key does not exist then the next key is used.
">
          <div class="comment-context">
            function — seek
          </div>
          <div class="comment-text">seek moves the cursor to a given key and returns it.
If the key does not exist then the next key is used.
</div>
          <div class="comment-lines">Lines 152–153</div>
        </div>
        
        <div class="comment-block" data-text="first moves the cursor to the first leaf element under the last page in the stack.
">
          <div class="comment-context">
            function — first
          </div>
          <div class="comment-text">first moves the cursor to the first leaf element under the last page in the stack.
</div>
          <div class="comment-lines">Lines 171–171</div>
        </div>
        
        <div class="comment-block" data-text="last moves the cursor to the last leaf element under the last page in the stack.
">
          <div class="comment-context">
            function — last
          </div>
          <div class="comment-text">last moves the cursor to the last leaf element under the last page in the stack.
</div>
          <div class="comment-lines">Lines 192–192</div>
        </div>
        
        <div class="comment-block" data-text="next moves to the next leaf element and returns the key and value.
If the cursor is at the last leaf element then it stays there and returns nil.
">
          <div class="comment-context">
            function — next
          </div>
          <div class="comment-text">next moves to the next leaf element and returns the key and value.
If the cursor is at the last leaf element then it stays there and returns nil.
</div>
          <div class="comment-lines">Lines 216–217</div>
        </div>
        
        <div class="comment-block" data-text="search recursively performs a binary search against a given page/node until it finds a given key.
">
          <div class="comment-context">
            function — search
          </div>
          <div class="comment-text">search recursively performs a binary search against a given page/node until it finds a given key.
</div>
          <div class="comment-lines">Lines 252–252</div>
        </div>
        
        <div class="comment-block" data-text="nsearch searches the leaf node on the top of the stack for a key.
">
          <div class="comment-context">
            function — nsearch
          </div>
          <div class="comment-text">nsearch searches the leaf node on the top of the stack for a key.
</div>
          <div class="comment-lines">Lines 317–317</div>
        </div>
        
        <div class="comment-block" data-text="keyValue returns the key and value of the current leaf element.
">
          <div class="comment-context">
            function — keyValue
          </div>
          <div class="comment-text">keyValue returns the key and value of the current leaf element.
</div>
          <div class="comment-lines">Lines 339–339</div>
        </div>
        
        <div class="comment-block" data-text="node returns the node that the cursor is currently positioned on.
">
          <div class="comment-context">
            function — node
          </div>
          <div class="comment-text">node returns the node that the cursor is currently positioned on.
</div>
          <div class="comment-lines">Lines 357–357</div>
        </div>
        
        <div class="comment-block" data-text="isLeaf returns whether the ref is pointing at a leaf page/node.
">
          <div class="comment-context">
            function — isLeaf
          </div>
          <div class="comment-text">isLeaf returns whether the ref is pointing at a leaf page/node.
</div>
          <div class="comment-lines">Lines 386–386</div>
        </div>
        
        <div class="comment-block" data-text="count returns the number of inodes or page elements.
">
          <div class="comment-context">
            function — count
          </div>
          <div class="comment-text">count returns the number of inodes or page elements.
</div>
          <div class="comment-lines">Lines 394–394</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="type">
        <h3>type</h3>

        
        <div class="comment-block" data-text="Cursor represents an iterator that can traverse over all key/value pairs in a bucket in sorted order.
Cursors see nested buckets with value == nil.
Cursors can be obtained from a transaction and are valid as long as the transaction is open.

Keys and values returned from the cursor are only valid for the life of the transaction.

Changing data while traversing with a cursor may cause it to be invalidated
and return unexpected keys and/or values. You must reposition your cursor
after mutating data.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">Cursor represents an iterator that can traverse over all key/value pairs in a bucket in sorted order.
Cursors see nested buckets with value == nil.
Cursors can be obtained from a transaction and are valid as long as the transaction is open.

Keys and values returned from the cursor are only valid for the life of the transaction.

Changing data while traversing with a cursor may cause it to be invalidated
and return unexpected keys and/or values. You must reposition your cursor
after mutating data.
</div>
          <div class="comment-lines">Lines 9–17</div>
        </div>
        
        <div class="comment-block" data-text="elemRef represents a reference to an element on a given page/node.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">elemRef represents a reference to an element on a given page/node.
</div>
          <div class="comment-lines">Lines 379–379</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Exit when we hit a leaf page.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Exit when we hit a leaf page.
</div>
          <div class="comment-lines">Lines 174–174</div>
        </div>
        
        <div class="comment-block" data-text="Keep adding pages pointing to the first element to the stack.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Keep adding pages pointing to the first element to the stack.
</div>
          <div class="comment-lines">Lines 180–180</div>
        </div>
        
        <div class="comment-block" data-text="Keep adding pages pointing to the last element in the stack.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Keep adding pages pointing to the last element in the stack.
</div>
          <div class="comment-lines">Lines 201–201</div>
        </div>
        
        <div class="comment-block" data-text="Attempt to move over one element until we're successful.
Move up the stack as we hit the end of each page in our stack.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Attempt to move over one element until we're successful.
Move up the stack as we hit the end of each page in our stack.
</div>
          <div class="comment-lines">Lines 220–221</div>
        </div>
        
        <div class="comment-block" data-text="Start from root and traverse down the hierarchy.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Start from root and traverse down the hierarchy.
</div>
          <div class="comment-lines">Lines 366–366</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_doc.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">doc.go</div>
    <hr>

    
      <div class="context-group" data-context="package">
        <h3>package</h3>

        
        <div class="comment-block" data-text="Package bolt implements a low-level key/value store in pure Go. It supports
fully serializable transactions, ACID semantics, and lock-free MVCC with
multiple readers and a single writer. Bolt can be used for projects that
want a simple data store without the need to add large dependencies such as
Postgres or MySQL.

Bolt is a single-level, zero-copy, B+tree data store. This means that Bolt is
optimized for fast read access and does not require recovery in the event of a
system crash. Transactions which have not finished committing will simply be
rolled back in the event of a crash.

The design of Bolt is based on Howard Chu's LMDB database project.

Bolt currently works on Windows, Mac OS X, and Linux.

Basics

There are only a few types in Bolt: DB, Bucket, Tx, and Cursor. The DB is
a collection of buckets and is represented by a single file on disk. A bucket is
a collection of unique keys that are associated with values.

Transactions provide either read-only or read-write access to the database.
Read-only transactions can retrieve key/value pairs and can use Cursors to
iterate over the dataset sequentially. Read-write transactions can create and
delete buckets and can insert and remove keys. Only one read-write transaction
is allowed at a time.

Caveats

The database uses a read-only, memory-mapped data file to ensure that
applications cannot corrupt the database, however, this means that keys and
values returned from Bolt cannot be changed. Writing to a read-only byte slice
will cause Go to panic.

Keys and values retrieved from the database are only valid for the life of
the transaction. When used outside the transaction, these byte slices can
point to different data or can point to invalid memory which will cause a panic.
">
          <div class="comment-context">
            package
          </div>
          <div class="comment-text">Package bolt implements a low-level key/value store in pure Go. It supports
fully serializable transactions, ACID semantics, and lock-free MVCC with
multiple readers and a single writer. Bolt can be used for projects that
want a simple data store without the need to add large dependencies such as
Postgres or MySQL.

Bolt is a single-level, zero-copy, B+tree data store. This means that Bolt is
optimized for fast read access and does not require recovery in the event of a
system crash. Transactions which have not finished committing will simply be
rolled back in the event of a crash.

The design of Bolt is based on Howard Chu's LMDB database project.

Bolt currently works on Windows, Mac OS X, and Linux.

Basics

There are only a few types in Bolt: DB, Bucket, Tx, and Cursor. The DB is
a collection of buckets and is represented by a single file on disk. A bucket is
a collection of unique keys that are associated with values.

Transactions provide either read-only or read-write access to the database.
Read-only transactions can retrieve key/value pairs and can use Cursors to
iterate over the dataset sequentially. Read-write transactions can create and
delete buckets and can insert and remove keys. Only one read-write transaction
is allowed at a time.

Caveats

The database uses a read-only, memory-mapped data file to ensure that
applications cannot corrupt the database, however, this means that keys and
values returned from Bolt cannot be changed. Writing to a read-only byte slice
will cause Go to panic.

Keys and values retrieved from the database are only valid for the life of
the transaction. When used outside the transaction, these byte slices can
point to different data or can point to invalid memory which will cause a panic.
</div>
          <div class="comment-lines">Lines 1–40</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_errors.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">errors.go</div>
    <hr>

    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="These errors can be returned when opening or calling methods on a DB.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">These errors can be returned when opening or calling methods on a DB.
</div>
          <div class="comment-lines">Lines 5–5</div>
        </div>
        
        <div class="comment-block" data-text="These errors can occur when beginning or committing a Tx.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">These errors can occur when beginning or committing a Tx.
</div>
          <div class="comment-lines">Lines 31–31</div>
        </div>
        
        <div class="comment-block" data-text="These errors can occur when putting or deleting a value or a bucket.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">These errors can occur when putting or deleting a value or a bucket.
</div>
          <div class="comment-lines">Lines 46–46</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_freelist.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">freelist.go</div>
    <hr>

    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="newFreelist returns an empty, initialized freelist.
">
          <div class="comment-context">
            function — newFreelist
          </div>
          <div class="comment-text">newFreelist returns an empty, initialized freelist.
</div>
          <div class="comment-lines">Lines 17–17</div>
        </div>
        
        <div class="comment-block" data-text="size returns the size of the page after serialization.
">
          <div class="comment-context">
            function — size
          </div>
          <div class="comment-text">size returns the size of the page after serialization.
</div>
          <div class="comment-lines">Lines 25–25</div>
        </div>
        
        <div class="comment-block" data-text="count returns count of pages on the freelist
">
          <div class="comment-context">
            function — count
          </div>
          <div class="comment-text">count returns count of pages on the freelist
</div>
          <div class="comment-lines">Lines 35–35</div>
        </div>
        
        <div class="comment-block" data-text="free_count returns count of free pages
">
          <div class="comment-context">
            function — free_count
          </div>
          <div class="comment-text">free_count returns count of free pages
</div>
          <div class="comment-lines">Lines 40–40</div>
        </div>
        
        <div class="comment-block" data-text="pending_count returns count of pending pages
">
          <div class="comment-context">
            function — pending_count
          </div>
          <div class="comment-text">pending_count returns count of pending pages
</div>
          <div class="comment-lines">Lines 45–45</div>
        </div>
        
        <div class="comment-block" data-text="copyall copies into dst a list of all free ids and all pending ids in one sorted list.
f.count returns the minimum length required for dst.
">
          <div class="comment-context">
            function — copyall
          </div>
          <div class="comment-text">copyall copies into dst a list of all free ids and all pending ids in one sorted list.
f.count returns the minimum length required for dst.
</div>
          <div class="comment-lines">Lines 54–55</div>
        </div>
        
        <div class="comment-block" data-text="allocate returns the starting page id of a contiguous list of pages of a given size.
If a contiguous block cannot be found then 0 is returned.
">
          <div class="comment-context">
            function — allocate
          </div>
          <div class="comment-text">allocate returns the starting page id of a contiguous list of pages of a given size.
If a contiguous block cannot be found then 0 is returned.
</div>
          <div class="comment-lines">Lines 65–66</div>
        </div>
        
        <div class="comment-block" data-text="free releases a page and its overflow for a given transaction id.
If the page is already free then a panic will occur.
">
          <div class="comment-context">
            function — free
          </div>
          <div class="comment-text">free releases a page and its overflow for a given transaction id.
If the page is already free then a panic will occur.
</div>
          <div class="comment-lines">Lines 109–110</div>
        </div>
        
        <div class="comment-block" data-text="release moves all page ids for a transaction id (or older) to the freelist.
">
          <div class="comment-context">
            function — release
          </div>
          <div class="comment-text">release moves all page ids for a transaction id (or older) to the freelist.
</div>
          <div class="comment-lines">Lines 131–131</div>
        </div>
        
        <div class="comment-block" data-text="rollback removes the pages from a given pending tx.
">
          <div class="comment-context">
            function — rollback
          </div>
          <div class="comment-text">rollback removes the pages from a given pending tx.
</div>
          <div class="comment-lines">Lines 146–146</div>
        </div>
        
        <div class="comment-block" data-text="freed returns whether a given page is in the free list.
">
          <div class="comment-context">
            function — freed
          </div>
          <div class="comment-text">freed returns whether a given page is in the free list.
</div>
          <div class="comment-lines">Lines 157–157</div>
        </div>
        
        <div class="comment-block" data-text="read initializes the freelist from a freelist page.
">
          <div class="comment-context">
            function — read
          </div>
          <div class="comment-text">read initializes the freelist from a freelist page.
</div>
          <div class="comment-lines">Lines 162–162</div>
        </div>
        
        <div class="comment-block" data-text="write writes the page ids onto a freelist page. All free and pending ids are
saved to disk since in the event of a program crash, all pending ids will
become free.
">
          <div class="comment-context">
            function — write
          </div>
          <div class="comment-text">write writes the page ids onto a freelist page. All free and pending ids are
saved to disk since in the event of a program crash, all pending ids will
become free.
</div>
          <div class="comment-lines">Lines 188–190</div>
        </div>
        
        <div class="comment-block" data-text="reload reads the freelist from a page and filters out pending items.
">
          <div class="comment-context">
            function — reload
          </div>
          <div class="comment-text">reload reads the freelist from a page and filters out pending items.
</div>
          <div class="comment-lines">Lines 214–214</div>
        </div>
        
        <div class="comment-block" data-text="reindex rebuilds the free cache based on available and pending free lists.
">
          <div class="comment-context">
            function — reindex
          </div>
          <div class="comment-text">reindex rebuilds the free cache based on available and pending free lists.
</div>
          <div class="comment-lines">Lines 241–241</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="type">
        <h3>type</h3>

        
        <div class="comment-block" data-text="freelist represents a list of all pages that are available for allocation.
It also tracks pages that have been freed but are still in use by open transactions.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">freelist represents a list of all pages that are available for allocation.
It also tracks pages that have been freed but are still in use by open transactions.
</div>
          <div class="comment-lines">Lines 9–10</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Free page and all its overflow pages.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Free page and all its overflow pages.
</div>
          <div class="comment-lines">Lines 116–116</div>
        </div>
        
        <div class="comment-block" data-text="Check each page in the freelist and build a new available freelist
with any pages not in the pending lists.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Check each page in the freelist and build a new available freelist
with any pages not in the pending lists.
</div>
          <div class="comment-lines">Lines 226–227</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_bucket.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">bucket.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="DefaultFillPercent is the percentage that split pages are filled.
This value can be changed by setting Bucket.FillPercent.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">DefaultFillPercent is the percentage that split pages are filled.
This value can be changed by setting Bucket.FillPercent.
</div>
          <div class="comment-lines">Lines 31–32</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="newBucket returns a new bucket associated with a transaction.
">
          <div class="comment-context">
            function — newBucket
          </div>
          <div class="comment-text">newBucket returns a new bucket associated with a transaction.
</div>
          <div class="comment-lines">Lines 61–61</div>
        </div>
        
        <div class="comment-block" data-text="Tx returns the tx of the bucket.
">
          <div class="comment-context">
            function — Tx
          </div>
          <div class="comment-text">Tx returns the tx of the bucket.
</div>
          <div class="comment-lines">Lines 71–71</div>
        </div>
        
        <div class="comment-block" data-text="Root returns the root of the bucket.
">
          <div class="comment-context">
            function — Root
          </div>
          <div class="comment-text">Root returns the root of the bucket.
</div>
          <div class="comment-lines">Lines 76–76</div>
        </div>
        
        <div class="comment-block" data-text="Writable returns whether the bucket is writable.
">
          <div class="comment-context">
            function — Writable
          </div>
          <div class="comment-text">Writable returns whether the bucket is writable.
</div>
          <div class="comment-lines">Lines 81–81</div>
        </div>
        
        <div class="comment-block" data-text="Cursor creates a cursor associated with the bucket.
The cursor is only valid as long as the transaction is open.
Do not use a cursor after the transaction is closed.
">
          <div class="comment-context">
            function — Cursor
          </div>
          <div class="comment-text">Cursor creates a cursor associated with the bucket.
The cursor is only valid as long as the transaction is open.
Do not use a cursor after the transaction is closed.
</div>
          <div class="comment-lines">Lines 86–88</div>
        </div>
        
        <div class="comment-block" data-text="Bucket retrieves a nested bucket by name.
Returns nil if the bucket does not exist.
The bucket instance is only valid for the lifetime of the transaction.
">
          <div class="comment-context">
            function — Bucket
          </div>
          <div class="comment-text">Bucket retrieves a nested bucket by name.
Returns nil if the bucket does not exist.
The bucket instance is only valid for the lifetime of the transaction.
</div>
          <div class="comment-lines">Lines 100–102</div>
        </div>
        
        <div class="comment-block" data-text="Helper method that re-interprets a sub-bucket value
from a parent into a Bucket
">
          <div class="comment-context">
            function — openBucket
          </div>
          <div class="comment-text">Helper method that re-interprets a sub-bucket value
from a parent into a Bucket
</div>
          <div class="comment-lines">Lines 128–129</div>
        </div>
        
        <div class="comment-block" data-text="CreateBucket creates a new bucket at the given key and returns the new bucket.
Returns an error if the key already exists, if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
">
          <div class="comment-context">
            function — CreateBucket
          </div>
          <div class="comment-text">CreateBucket creates a new bucket at the given key and returns the new bucket.
Returns an error if the key already exists, if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
</div>
          <div class="comment-lines">Lines 158–160</div>
        </div>
        
        <div class="comment-block" data-text="CreateBucketIfNotExists creates a new bucket if it doesn't already exist and returns a reference to it.
Returns an error if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
">
          <div class="comment-context">
            function — CreateBucketIfNotExists
          </div>
          <div class="comment-text">CreateBucketIfNotExists creates a new bucket if it doesn't already exist and returns a reference to it.
Returns an error if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
</div>
          <div class="comment-lines">Lines 202–204</div>
        </div>
        
        <div class="comment-block" data-text="DeleteBucket deletes a bucket at the given key.
Returns an error if the bucket does not exists, or if the key represents a non-bucket value.
">
          <div class="comment-context">
            function — DeleteBucket
          </div>
          <div class="comment-text">DeleteBucket deletes a bucket at the given key.
Returns an error if the bucket does not exists, or if the key represents a non-bucket value.
</div>
          <div class="comment-lines">Lines 215–216</div>
        </div>
        
        <div class="comment-block" data-text="Get retrieves the value for a key in the bucket.
Returns a nil value if the key does not exist or if the key is a nested bucket.
The returned value is only valid for the life of the transaction.
">
          <div class="comment-context">
            function — Get
          </div>
          <div class="comment-text">Get retrieves the value for a key in the bucket.
Returns a nil value if the key does not exist or if the key is a nested bucket.
The returned value is only valid for the life of the transaction.
</div>
          <div class="comment-lines">Lines 263–265</div>
        </div>
        
        <div class="comment-block" data-text="Put sets the value for a key in the bucket.
If the key exist then its previous value will be overwritten.
Supplied value must remain valid for the life of the transaction.
Returns an error if the bucket was created from a read-only transaction, if the key is blank, if the key is too large, or if the value is too large.
">
          <div class="comment-context">
            function — Put
          </div>
          <div class="comment-text">Put sets the value for a key in the bucket.
If the key exist then its previous value will be overwritten.
Supplied value must remain valid for the life of the transaction.
Returns an error if the bucket was created from a read-only transaction, if the key is blank, if the key is too large, or if the value is too large.
</div>
          <div class="comment-lines">Lines 281–284</div>
        </div>
        
        <div class="comment-block" data-text="Delete removes a key from the bucket.
If the key does not exist then nothing is done and a nil error is returned.
Returns an error if the bucket was created from a read-only transaction.
">
          <div class="comment-context">
            function — Delete
          </div>
          <div class="comment-text">Delete removes a key from the bucket.
If the key does not exist then nothing is done and a nil error is returned.
Returns an error if the bucket was created from a read-only transaction.
</div>
          <div class="comment-lines">Lines 314–316</div>
        </div>
        
        <div class="comment-block" data-text="Sequence returns the current integer for the bucket without incrementing it.
">
          <div class="comment-context">
            function — Sequence
          </div>
          <div class="comment-text">Sequence returns the current integer for the bucket without incrementing it.
</div>
          <div class="comment-lines">Lines 339–339</div>
        </div>
        
        <div class="comment-block" data-text="SetSequence updates the sequence number for the bucket.
">
          <div class="comment-context">
            function — SetSequence
          </div>
          <div class="comment-text">SetSequence updates the sequence number for the bucket.
</div>
          <div class="comment-lines">Lines 342–342</div>
        </div>
        
        <div class="comment-block" data-text="NextSequence returns an autoincrementing integer for the bucket.
">
          <div class="comment-context">
            function — NextSequence
          </div>
          <div class="comment-text">NextSequence returns an autoincrementing integer for the bucket.
</div>
          <div class="comment-lines">Lines 361–361</div>
        </div>
        
        <div class="comment-block" data-text="ForEach executes a function for each key/value pair in a bucket.
If the provided function returns an error then the iteration is stopped and
the error is returned to the caller. The provided function must not modify
the bucket; this will result in undefined behavior.
">
          <div class="comment-context">
            function — ForEach
          </div>
          <div class="comment-text">ForEach executes a function for each key/value pair in a bucket.
If the provided function returns an error then the iteration is stopped and
the error is returned to the caller. The provided function must not modify
the bucket; this will result in undefined behavior.
</div>
          <div class="comment-lines">Lines 380–383</div>
        </div>
        
        <div class="comment-block" data-text="Stat returns stats on a bucket.
">
          <div class="comment-context">
            function — Stats
          </div>
          <div class="comment-text">Stat returns stats on a bucket.
</div>
          <div class="comment-lines">Lines 397–397</div>
        </div>
        
        <div class="comment-block" data-text="forEachPage iterates over every page in a bucket, including inline pages.
">
          <div class="comment-context">
            function — forEachPage
          </div>
          <div class="comment-text">forEachPage iterates over every page in a bucket, including inline pages.
</div>
          <div class="comment-lines">Lines 479–479</div>
        </div>
        
        <div class="comment-block" data-text="forEachPageNode iterates over every page (or node) in a bucket.
This also includes inline pages.
">
          <div class="comment-context">
            function — forEachPageNode
          </div>
          <div class="comment-text">forEachPageNode iterates over every page (or node) in a bucket.
This also includes inline pages.
</div>
          <div class="comment-lines">Lines 491–492</div>
        </div>
        
        <div class="comment-block" data-text="spill writes all the nodes for this bucket to dirty pages.
">
          <div class="comment-context">
            function — spill
          </div>
          <div class="comment-text">spill writes all the nodes for this bucket to dirty pages.
</div>
          <div class="comment-lines">Lines 525–525</div>
        </div>
        
        <div class="comment-block" data-text="inlineable returns true if a bucket is small enough to be written inline
and if it contains no subbuckets. Otherwise returns false.
">
          <div class="comment-context">
            function — inlineable
          </div>
          <div class="comment-text">inlineable returns true if a bucket is small enough to be written inline
and if it contains no subbuckets. Otherwise returns false.
</div>
          <div class="comment-lines">Lines 584–585</div>
        </div>
        
        <div class="comment-block" data-text="Returns the maximum total size of a bucket to make it a candidate for inlining.
">
          <div class="comment-context">
            function — maxInlineBucketSize
          </div>
          <div class="comment-text">Returns the maximum total size of a bucket to make it a candidate for inlining.
</div>
          <div class="comment-lines">Lines 610–610</div>
        </div>
        
        <div class="comment-block" data-text="write allocates and writes a bucket to a byte slice.
">
          <div class="comment-context">
            function — write
          </div>
          <div class="comment-text">write allocates and writes a bucket to a byte slice.
</div>
          <div class="comment-lines">Lines 615–615</div>
        </div>
        
        <div class="comment-block" data-text="rebalance attempts to balance all nodes.
">
          <div class="comment-context">
            function — rebalance
          </div>
          <div class="comment-text">rebalance attempts to balance all nodes.
</div>
          <div class="comment-lines">Lines 632–632</div>
        </div>
        
        <div class="comment-block" data-text="node creates a node from a page and associates it with a given parent.
">
          <div class="comment-context">
            function — node
          </div>
          <div class="comment-text">node creates a node from a page and associates it with a given parent.
</div>
          <div class="comment-lines">Lines 642–642</div>
        </div>
        
        <div class="comment-block" data-text="free recursively frees all pages in the bucket.
">
          <div class="comment-context">
            function — free
          </div>
          <div class="comment-text">free recursively frees all pages in the bucket.
</div>
          <div class="comment-lines">Lines 675–675</div>
        </div>
        
        <div class="comment-block" data-text="dereference removes all references to the old mmap.
">
          <div class="comment-context">
            function — dereference
          </div>
          <div class="comment-text">dereference removes all references to the old mmap.
</div>
          <div class="comment-lines">Lines 692–692</div>
        </div>
        
        <div class="comment-block" data-text="pageNode returns the in-memory node, if it exists.
Otherwise returns the underlying page.
">
          <div class="comment-context">
            function — pageNode
          </div>
          <div class="comment-text">pageNode returns the in-memory node, if it exists.
Otherwise returns the underlying page.
</div>
          <div class="comment-lines">Lines 703–704</div>
        </div>
        
        <div class="comment-block" data-text="cloneBytes returns a copy of a given slice.
">
          <div class="comment-context">
            function — cloneBytes
          </div>
          <div class="comment-text">cloneBytes returns a copy of a given slice.
</div>
          <div class="comment-lines">Lines 772–772</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="type">
        <h3>type</h3>

        
        <div class="comment-block" data-text="Bucket represents a collection of key/value pairs inside the database.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">Bucket represents a collection of key/value pairs inside the database.
</div>
          <div class="comment-lines">Lines 35–35</div>
        </div>
        
        <div class="comment-block" data-text="bucket represents the on-file representation of a bucket.
This is stored as the "value" of a bucket key. If the bucket is small enough,
then its root page can be stored inline in the "value", after the bucket
header. In the case of inline buckets, the "root" will be 0.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">bucket represents the on-file representation of a bucket.
This is stored as the "value" of a bucket key. If the bucket is small enough,
then its root page can be stored inline in the "value", after the bucket
header. In the case of inline buckets, the "root" will be 0.
</div>
          <div class="comment-lines">Lines 52–55</div>
        </div>
        
        <div class="comment-block" data-text="BucketStats records statistics about resources used by a bucket.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">BucketStats records statistics about resources used by a bucket.
</div>
          <div class="comment-lines">Lines 729–729</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Otherwise create a bucket and cache it.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Otherwise create a bucket and cache it.
</div>
          <div class="comment-lines">Lines 119–119</div>
        </div>
        
        <div class="comment-block" data-text="Create empty, inline bucket.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Create empty, inline bucket.
</div>
          <div class="comment-lines">Lines 182–182</div>
        </div>
        
        <div class="comment-block" data-text="If the child bucket is small enough and it has no child buckets then
write it inline into the parent bucket's page. Otherwise spill it
like a normal bucket and make the parent value a pointer to the page.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">If the child bucket is small enough and it has no child buckets then
write it inline into the parent bucket's page. Otherwise spill it
like a normal bucket and make the parent value a pointer to the page.
</div>
          <div class="comment-lines">Lines 529–531</div>
        </div>
        
        <div class="comment-block" data-text="Update parent node.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Update parent node.
</div>
          <div class="comment-lines">Lines 552–552</div>
        </div>
        
        <div class="comment-block" data-text="Bucket is not inlineable if it contains subbuckets or if it goes beyond
our threshold for inline bucket size.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Bucket is not inlineable if it contains subbuckets or if it goes beyond
our threshold for inline bucket size.
</div>
          <div class="comment-lines">Lines 594–595</div>
        </div>
        
        <div class="comment-block" data-text="Allocate the appropriate size.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Allocate the appropriate size.
</div>
          <div class="comment-lines">Lines 617–617</div>
        </div>
        
        <div class="comment-block" data-text="Write a bucket header.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Write a bucket header.
</div>
          <div class="comment-lines">Lines 621–621</div>
        </div>
        
        <div class="comment-block" data-text="Convert byte slice to a fake page and write the root node.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Convert byte slice to a fake page and write the root node.
</div>
          <div class="comment-lines">Lines 625–625</div>
        </div>
        
        <div class="comment-block" data-text="Use the inline page if this is an inline bucket.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Use the inline page if this is an inline bucket.
</div>
          <div class="comment-lines">Lines 659–659</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_cmd_bolt_main.go" style="display:none;">
    <div class="package-name">package main</div>
    <div class="file-path">cmd\bolt\main.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="PageHeaderSize represents the size of the bolt.page header.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">PageHeaderSize represents the size of the bolt.page header.
</div>
          <div class="comment-lines">Lines 59–59</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1431–1431</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1434–1434</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1442–1442</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="NewMain returns a new instance of Main connect to the standard input/output.
">
          <div class="comment-context">
            function — NewMain
          </div>
          <div class="comment-text">NewMain returns a new instance of Main connect to the standard input/output.
</div>
          <div class="comment-lines">Lines 79–79</div>
        </div>
        
        <div class="comment-block" data-text="Run executes the program.
">
          <div class="comment-context">
            function — Run
          </div>
          <div class="comment-text">Run executes the program.
</div>
          <div class="comment-lines">Lines 88–88</div>
        </div>
        
        <div class="comment-block" data-text="Usage returns the help message.
">
          <div class="comment-context">
            function — Usage
          </div>
          <div class="comment-text">Usage returns the help message.
</div>
          <div class="comment-lines">Lines 122–122</div>
        </div>
        
        <div class="comment-block" data-text="NewCheckCommand returns a CheckCommand.
">
          <div class="comment-context">
            function — newCheckCommand
          </div>
          <div class="comment-text">NewCheckCommand returns a CheckCommand.
</div>
          <div class="comment-lines">Lines 152–152</div>
        </div>
        
        <div class="comment-block" data-text="Run executes the command.
">
          <div class="comment-context">
            function — Run
          </div>
          <div class="comment-text">Run executes the command.
</div>
          <div class="comment-lines">Lines 161–161</div>
        </div>
        
        <div class="comment-block" data-text="Usage returns the help message.
">
          <div class="comment-context">
            function — Usage
          </div>
          <div class="comment-text">Usage returns the help message.
</div>
          <div class="comment-lines">Lines 216–216</div>
        </div>
        
        <div class="comment-block" data-text="NewInfoCommand returns a InfoCommand.
">
          <div class="comment-context">
            function — newInfoCommand
          </div>
          <div class="comment-text">NewInfoCommand returns a InfoCommand.
</div>
          <div class="comment-lines">Lines 237–237</div>
        </div>
        
        <div class="comment-block" data-text="Run executes the command.
">
          <div class="comment-context">
            function — Run
          </div>
          <div class="comment-text">Run executes the command.
</div>
          <div class="comment-lines">Lines 246–246</div>
        </div>
        
        <div class="comment-block" data-text="Usage returns the help message.
">
          <div class="comment-context">
            function — Usage
          </div>
          <div class="comment-text">Usage returns the help message.
</div>
          <div class="comment-lines">Lines 280–280</div>
        </div>
        
        <div class="comment-block" data-text="newDumpCommand returns a DumpCommand.
">
          <div class="comment-context">
            function — newDumpCommand
          </div>
          <div class="comment-text">newDumpCommand returns a DumpCommand.
</div>
          <div class="comment-lines">Lines 296–296</div>
        </div>
        
        <div class="comment-block" data-text="Run executes the command.
">
          <div class="comment-context">
            function — Run
          </div>
          <div class="comment-text">Run executes the command.
</div>
          <div class="comment-lines">Lines 305–305</div>
        </div>
        
        <div class="comment-block" data-text="PrintPage prints a given page as hexadecimal.
">
          <div class="comment-context">
            function — PrintPage
          </div>
          <div class="comment-text">PrintPage prints a given page as hexadecimal.
</div>
          <div class="comment-lines">Lines 362–362</div>
        </div>
        
        <div class="comment-block" data-text="Usage returns the help message.
">
          <div class="comment-context">
            function — Usage
          </div>
          <div class="comment-text">Usage returns the help message.
</div>
          <div class="comment-lines">Lines 407–407</div>
        </div>
        
        <div class="comment-block" data-text="newPageCommand returns a PageCommand.
">
          <div class="comment-context">
            function — newPageCommand
          </div>
          <div class="comment-text">newPageCommand returns a PageCommand.
</div>
          <div class="comment-lines">Lines 423–423</div>
        </div>
        
        <div class="comment-block" data-text="Run executes the command.
">
          <div class="comment-context">
            function — Run
          </div>
          <div class="comment-text">Run executes the command.
</div>
          <div class="comment-lines">Lines 432–432</div>
        </div>
        
        <div class="comment-block" data-text="PrintMeta prints the data from the meta page.
">
          <div class="comment-context">
            function — PrintMeta
          </div>
          <div class="comment-text">PrintMeta prints the data from the meta page.
</div>
          <div class="comment-lines">Lines 504–504</div>
        </div>
        
        <div class="comment-block" data-text="PrintLeaf prints the data for a leaf page.
">
          <div class="comment-context">
            function — PrintLeaf
          </div>
          <div class="comment-text">PrintLeaf prints the data for a leaf page.
</div>
          <div class="comment-lines">Lines 519–519</div>
        </div>
        
        <div class="comment-block" data-text="PrintBranch prints the data for a leaf page.
">
          <div class="comment-context">
            function — PrintBranch
          </div>
          <div class="comment-text">PrintBranch prints the data for a leaf page.
</div>
          <div class="comment-lines">Lines 556–556</div>
        </div>
        
        <div class="comment-block" data-text="PrintFreelist prints the data for a freelist page.
">
          <div class="comment-context">
            function — PrintFreelist
          </div>
          <div class="comment-text">PrintFreelist prints the data for a freelist page.
</div>
          <div class="comment-lines">Lines 582–582</div>
        </div>
        
        <div class="comment-block" data-text="PrintPage prints a given page as hexadecimal.
">
          <div class="comment-context">
            function — PrintPage
          </div>
          <div class="comment-text">PrintPage prints a given page as hexadecimal.
</div>
          <div class="comment-lines">Lines 599–599</div>
        </div>
        
        <div class="comment-block" data-text="Usage returns the help message.
">
          <div class="comment-context">
            function — Usage
          </div>
          <div class="comment-text">Usage returns the help message.
</div>
          <div class="comment-lines">Lines 644–644</div>
        </div>
        
        <div class="comment-block" data-text="NewPagesCommand returns a PagesCommand.
">
          <div class="comment-context">
            function — newPagesCommand
          </div>
          <div class="comment-text">NewPagesCommand returns a PagesCommand.
</div>
          <div class="comment-lines">Lines 660–660</div>
        </div>
        
        <div class="comment-block" data-text="Run executes the command.
">
          <div class="comment-context">
            function — Run
          </div>
          <div class="comment-text">Run executes the command.
</div>
          <div class="comment-lines">Lines 669–669</div>
        </div>
        
        <div class="comment-block" data-text="Usage returns the help message.
">
          <div class="comment-context">
            function — Usage
          </div>
          <div class="comment-text">Usage returns the help message.
</div>
          <div class="comment-lines">Lines 732–732</div>
        </div>
        
        <div class="comment-block" data-text="NewStatsCommand returns a StatsCommand.
">
          <div class="comment-context">
            function — newStatsCommand
          </div>
          <div class="comment-text">NewStatsCommand returns a StatsCommand.
</div>
          <div class="comment-lines">Lines 754–754</div>
        </div>
        
        <div class="comment-block" data-text="Run executes the command.
">
          <div class="comment-context">
            function — Run
          </div>
          <div class="comment-text">Run executes the command.
</div>
          <div class="comment-lines">Lines 763–763</div>
        </div>
        
        <div class="comment-block" data-text="Usage returns the help message.
">
          <div class="comment-context">
            function — Usage
          </div>
          <div class="comment-text">Usage returns the help message.
</div>
          <div class="comment-lines">Lines 846–846</div>
        </div>
        
        <div class="comment-block" data-text="NewBenchCommand returns a BenchCommand using the
">
          <div class="comment-context">
            function — newBenchCommand
          </div>
          <div class="comment-text">NewBenchCommand returns a BenchCommand using the
</div>
          <div class="comment-lines">Lines 891–891</div>
        </div>
        
        <div class="comment-block" data-text="Run executes the "bench" command.
">
          <div class="comment-context">
            function — Run
          </div>
          <div class="comment-text">Run executes the "bench" command.
</div>
          <div class="comment-lines">Lines 900–900</div>
        </div>
        
        <div class="comment-block" data-text="ParseFlags parses the command line flags.
">
          <div class="comment-context">
            function — ParseFlags
          </div>
          <div class="comment-text">ParseFlags parses the command line flags.
</div>
          <div class="comment-lines">Lines 941–941</div>
        </div>
        
        <div class="comment-block" data-text="Writes to the database.
">
          <div class="comment-context">
            function — runWrites
          </div>
          <div class="comment-text">Writes to the database.
</div>
          <div class="comment-lines">Lines 988–988</div>
        </div>
        
        <div class="comment-block" data-text="Reads from the database.
">
          <div class="comment-context">
            function — runReads
          </div>
          <div class="comment-text">Reads from the database.
</div>
          <div class="comment-lines">Lines 1114–1114</div>
        </div>
        
        <div class="comment-block" data-text="Starts all profiles set on the options.
">
          <div class="comment-context">
            function — startProfiling
          </div>
          <div class="comment-text">Starts all profiles set on the options.
</div>
          <div class="comment-lines">Lines 1217–1217</div>
        </div>
        
        <div class="comment-block" data-text="Stops all profiles.
">
          <div class="comment-context">
            function — stopProfiling
          </div>
          <div class="comment-text">Stops all profiles.
</div>
          <div class="comment-lines">Lines 1252–1252</div>
        </div>
        
        <div class="comment-block" data-text="Returns the duration for a single write operation.
">
          <div class="comment-context">
            function — WriteOpDuration
          </div>
          <div class="comment-text">Returns the duration for a single write operation.
</div>
          <div class="comment-lines">Lines 1301–1301</div>
        </div>
        
        <div class="comment-block" data-text="Returns average number of write operations that can be performed per second.
">
          <div class="comment-context">
            function — WriteOpsPerSecond
          </div>
          <div class="comment-text">Returns average number of write operations that can be performed per second.
</div>
          <div class="comment-lines">Lines 1309–1309</div>
        </div>
        
        <div class="comment-block" data-text="Returns the duration for a single read operation.
">
          <div class="comment-context">
            function — ReadOpDuration
          </div>
          <div class="comment-text">Returns the duration for a single read operation.
</div>
          <div class="comment-lines">Lines 1318–1318</div>
        </div>
        
        <div class="comment-block" data-text="Returns average number of read operations that can be performed per second.
">
          <div class="comment-context">
            function — ReadOpsPerSecond
          </div>
          <div class="comment-text">Returns average number of read operations that can be performed per second.
</div>
          <div class="comment-lines">Lines 1326–1326</div>
        </div>
        
        <div class="comment-block" data-text="isPrintable returns true if the string is valid unicode and contains only printable runes.
">
          <div class="comment-context">
            function — isPrintable
          </div>
          <div class="comment-text">isPrintable returns true if the string is valid unicode and contains only printable runes.
</div>
          <div class="comment-lines">Lines 1344–1344</div>
        </div>
        
        <div class="comment-block" data-text="ReadPage reads page info & full page data from a path.
This is not transactionally safe.
">
          <div class="comment-context">
            function — ReadPage
          </div>
          <div class="comment-text">ReadPage reads page info & full page data from a path.
This is not transactionally safe.
</div>
          <div class="comment-lines">Lines 1357–1358</div>
        </div>
        
        <div class="comment-block" data-text="ReadPageSize reads page size a path.
This is not transactionally safe.
">
          <div class="comment-context">
            function — ReadPageSize
          </div>
          <div class="comment-text">ReadPageSize reads page size a path.
This is not transactionally safe.
</div>
          <div class="comment-lines">Lines 1397–1398</div>
        </div>
        
        <div class="comment-block" data-text="atois parses a slice of strings into integers.
">
          <div class="comment-context">
            function — atois
          </div>
          <div class="comment-text">atois parses a slice of strings into integers.
</div>
          <div class="comment-lines">Lines 1418–1418</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            function — Type
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1479–1479</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            function — leafPageElement
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1493–1493</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            function — branchPageElement
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1499–1499</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            function — key
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1511–1511</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            function — key
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1525–1525</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            function — value
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1531–1531</div>
        </div>
        
        <div class="comment-block" data-text="newCompactCommand returns a CompactCommand.
">
          <div class="comment-context">
            function — newCompactCommand
          </div>
          <div class="comment-text">newCompactCommand returns a CompactCommand.
</div>
          <div class="comment-lines">Lines 1548–1548</div>
        </div>
        
        <div class="comment-block" data-text="Run executes the command.
">
          <div class="comment-context">
            function — Run
          </div>
          <div class="comment-text">Run executes the command.
</div>
          <div class="comment-lines">Lines 1557–1557</div>
        </div>
        
        <div class="comment-block" data-text="walk walks recursively the bolt database db, calling walkFn for each key it finds.
">
          <div class="comment-context">
            function — walk
          </div>
          <div class="comment-text">walk walks recursively the bolt database db, calling walkFn for each key it finds.
</div>
          <div class="comment-lines">Lines 1693–1693</div>
        </div>
        
        <div class="comment-block" data-text="Usage returns the help message.
">
          <div class="comment-context">
            function — Usage
          </div>
          <div class="comment-text">Usage returns the help message.
</div>
          <div class="comment-lines">Lines 1724–1724</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="type">
        <h3>type</h3>

        
        <div class="comment-block" data-text="Main represents the main program execution.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">Main represents the main program execution.
</div>
          <div class="comment-lines">Lines 72–72</div>
        </div>
        
        <div class="comment-block" data-text="CheckCommand represents the "check" command execution.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">CheckCommand represents the "check" command execution.
</div>
          <div class="comment-lines">Lines 145–145</div>
        </div>
        
        <div class="comment-block" data-text="InfoCommand represents the "info" command execution.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">InfoCommand represents the "info" command execution.
</div>
          <div class="comment-lines">Lines 230–230</div>
        </div>
        
        <div class="comment-block" data-text="DumpCommand represents the "dump" command execution.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">DumpCommand represents the "dump" command execution.
</div>
          <div class="comment-lines">Lines 289–289</div>
        </div>
        
        <div class="comment-block" data-text="PageCommand represents the "page" command execution.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">PageCommand represents the "page" command execution.
</div>
          <div class="comment-lines">Lines 416–416</div>
        </div>
        
        <div class="comment-block" data-text="PagesCommand represents the "pages" command execution.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">PagesCommand represents the "pages" command execution.
</div>
          <div class="comment-lines">Lines 653–653</div>
        </div>
        
        <div class="comment-block" data-text="StatsCommand represents the "stats" command execution.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">StatsCommand represents the "stats" command execution.
</div>
          <div class="comment-lines">Lines 747–747</div>
        </div>
        
        <div class="comment-block" data-text="BenchCommand represents the "bench" command execution.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">BenchCommand represents the "bench" command execution.
</div>
          <div class="comment-lines">Lines 884–884</div>
        </div>
        
        <div class="comment-block" data-text="BenchOptions represents the set of options that can be passed to "bolt bench".
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">BenchOptions represents the set of options that can be passed to "bolt bench".
</div>
          <div class="comment-lines">Lines 1274–1274</div>
        </div>
        
        <div class="comment-block" data-text="BenchResults represents the performance results of the benchmark.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">BenchResults represents the performance results of the benchmark.
</div>
          <div class="comment-lines">Lines 1293–1293</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1445–1445</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1448–1448</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1451–1451</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1464–1464</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1470–1470</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1504–1504</div>
        </div>
        
        <div class="comment-block" data-text="DO NOT EDIT. Copied from the "bolt" package.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">DO NOT EDIT. Copied from the "bolt" package.
</div>
          <div class="comment-lines">Lines 1517–1517</div>
        </div>
        
        <div class="comment-block" data-text="CompactCommand represents the "compact" command execution.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">CompactCommand represents the "compact" command execution.
</div>
          <div class="comment-lines">Lines 1537–1537</div>
        </div>
        
        <div class="comment-block" data-text="walkFunc is the type of the function called for keys (buckets and "normal"
values) discovered by Walk. keys is the list of keys to descend to the bucket
owning the discovered key/value pair k/v.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">walkFunc is the type of the function called for keys (buckets and "normal"
values) discovered by Walk. keys is the list of keys to descend to the bucket
owning the discovered key/value pair k/v.
</div>
          <div class="comment-lines">Lines 1688–1690</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Write out to writer in 16-byte lines.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Write out to writer in 16-byte lines.
</div>
          <div class="comment-lines">Lines 375–375</div>
        </div>
        
        <div class="comment-block" data-text="Format key as string.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Format key as string.
</div>
          <div class="comment-lines">Lines 531–531</div>
        </div>
        
        <div class="comment-block" data-text="Format value as string.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Format value as string.
</div>
          <div class="comment-lines">Lines 539–539</div>
        </div>
        
        <div class="comment-block" data-text="Format key as string.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Format key as string.
</div>
          <div class="comment-lines">Lines 568–568</div>
        </div>
        
        <div class="comment-block" data-text="Write out to writer in 16-byte lines.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Write out to writer in 16-byte lines.
</div>
          <div class="comment-lines">Lines 612–612</div>
        </div>
        
        <div class="comment-block" data-text="Only display count and overflow if this is a non-free page.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Only display count and overflow if this is a non-free page.
</div>
          <div class="comment-lines">Lines 710–710</div>
        </div>
        
        <div class="comment-block" data-text="Write to the database.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Write to the database.
</div>
          <div class="comment-lines">Lines 923–923</div>
        </div>
        
        <div class="comment-block" data-text="File handlers for the various profiles.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">File handlers for the various profiles.
</div>
          <div class="comment-lines">Lines 1214–1214</div>
        </div>
        
        <div class="comment-block" data-text="commit regularly, or we'll run out of memory for large datasets if using one transaction.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">commit regularly, or we'll run out of memory for large datasets if using one transaction.
</div>
          <div class="comment-lines">Lines 1620–1620</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_db.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">db.go</div>
    <hr>

    
      <div class="context-group" data-context="const">
        <h3>const</h3>

        
        <div class="comment-block" data-text="The largest step that can be taken when remapping the mmap.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">The largest step that can be taken when remapping the mmap.
</div>
          <div class="comment-lines">Lines 17–17</div>
        </div>
        
        <div class="comment-block" data-text="The data file format version.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">The data file format version.
</div>
          <div class="comment-lines">Lines 20–20</div>
        </div>
        
        <div class="comment-block" data-text="Represents a marker value to indicate that a file is a Bolt DB.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">Represents a marker value to indicate that a file is a Bolt DB.
</div>
          <div class="comment-lines">Lines 23–23</div>
        </div>
        
        <div class="comment-block" data-text="IgnoreNoSync specifies whether the NoSync field of a DB is ignored when
syncing changes to a file.  This is required as some operating systems,
such as OpenBSD, do not have a unified buffer cache (UBC) and writes
must be synchronized using the msync(2) syscall.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">IgnoreNoSync specifies whether the NoSync field of a DB is ignored when
syncing changes to a file.  This is required as some operating systems,
such as OpenBSD, do not have a unified buffer cache (UBC) and writes
must be synchronized using the msync(2) syscall.
</div>
          <div class="comment-lines">Lines 26–29</div>
        </div>
        
        <div class="comment-block" data-text="Default values if not set in a DB instance.
">
          <div class="comment-context">
            const
          </div>
          <div class="comment-text">Default values if not set in a DB instance.
</div>
          <div class="comment-lines">Lines 32–32</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="Path returns the path to currently open database file.
">
          <div class="comment-context">
            function — Path
          </div>
          <div class="comment-text">Path returns the path to currently open database file.
</div>
          <div class="comment-lines">Lines 132–132</div>
        </div>
        
        <div class="comment-block" data-text="GoString returns the Go string representation of the database.
">
          <div class="comment-context">
            function — GoString
          </div>
          <div class="comment-text">GoString returns the Go string representation of the database.
</div>
          <div class="comment-lines">Lines 137–137</div>
        </div>
        
        <div class="comment-block" data-text="String returns the string representation of the database.
">
          <div class="comment-context">
            function — String
          </div>
          <div class="comment-text">String returns the string representation of the database.
</div>
          <div class="comment-lines">Lines 142–142</div>
        </div>
        
        <div class="comment-block" data-text="Open creates and opens a database at the given path.
If the file does not exist then it will be created automatically.
Passing in nil options will cause Bolt to open the database with the default options.
">
          <div class="comment-context">
            function — Open
          </div>
          <div class="comment-text">Open creates and opens a database at the given path.
If the file does not exist then it will be created automatically.
Passing in nil options will cause Bolt to open the database with the default options.
</div>
          <div class="comment-lines">Lines 147–149</div>
        </div>
        
        <div class="comment-block" data-text="mmap opens the underlying memory-mapped file and initializes the meta references.
minsz is the minimum size that the new mmap can be.
">
          <div class="comment-context">
            function — mmap
          </div>
          <div class="comment-text">mmap opens the underlying memory-mapped file and initializes the meta references.
minsz is the minimum size that the new mmap can be.
</div>
          <div class="comment-lines">Lines 243–244</div>
        </div>
        
        <div class="comment-block" data-text="munmap unmaps the data file from memory.
">
          <div class="comment-context">
            function — munmap
          </div>
          <div class="comment-text">munmap unmaps the data file from memory.
</div>
          <div class="comment-lines">Lines 297–297</div>
        </div>
        
        <div class="comment-block" data-text="mmapSize determines the appropriate size for the mmap given the current size
of the database. The minimum size is 32KB and doubles until it reaches 1GB.
Returns an error if the new mmap size is greater than the max allowed.
">
          <div class="comment-context">
            function — mmapSize
          </div>
          <div class="comment-text">mmapSize determines the appropriate size for the mmap given the current size
of the database. The minimum size is 32KB and doubles until it reaches 1GB.
Returns an error if the new mmap size is greater than the max allowed.
</div>
          <div class="comment-lines">Lines 305–307</div>
        </div>
        
        <div class="comment-block" data-text="init creates a new database file and initializes its meta pages.
">
          <div class="comment-context">
            function — init
          </div>
          <div class="comment-text">init creates a new database file and initializes its meta pages.
</div>
          <div class="comment-lines">Lines 342–342</div>
        </div>
        
        <div class="comment-block" data-text="Close releases all database resources.
All transactions must be closed before closing the database.
">
          <div class="comment-context">
            function — Close
          </div>
          <div class="comment-text">Close releases all database resources.
All transactions must be closed before closing the database.
</div>
          <div class="comment-lines">Lines 389–390</div>
        </div>
        
        <div class="comment-block" data-text="Begin starts a new transaction.
Multiple read-only transactions can be used concurrently but only one
write transaction can be used at a time. Starting multiple write transactions
will cause the calls to block and be serialized until the current write
transaction finishes.

Transactions should not be dependent on one another. Opening a read
transaction and a write transaction in the same goroutine can cause the
writer to deadlock because the database periodically needs to re-mmap itself
as it grows and it cannot do that while a read transaction is open.

If a long running read transaction (for example, a snapshot transaction) is
needed, you might want to set DB.InitialMmapSize to a large enough value
to avoid potential blocking of write transaction.

IMPORTANT: You must close read-only transactions after you are finished or
else the database will not reclaim old pages.
">
          <div class="comment-context">
            function — Begin
          </div>
          <div class="comment-text">Begin starts a new transaction.
Multiple read-only transactions can be used concurrently but only one
write transaction can be used at a time. Starting multiple write transactions
will cause the calls to block and be serialized until the current write
transaction finishes.

Transactions should not be dependent on one another. Opening a read
transaction and a write transaction in the same goroutine can cause the
writer to deadlock because the database periodically needs to re-mmap itself
as it grows and it cannot do that while a read transaction is open.

If a long running read transaction (for example, a snapshot transaction) is
needed, you might want to set DB.InitialMmapSize to a large enough value
to avoid potential blocking of write transaction.

IMPORTANT: You must close read-only transactions after you are finished or
else the database will not reclaim old pages.
</div>
          <div class="comment-lines">Lines 442–458</div>
        </div>
        
        <div class="comment-block" data-text="removeTx removes a transaction from the database.
">
          <div class="comment-context">
            function — removeTx
          </div>
          <div class="comment-text">removeTx removes a transaction from the database.
</div>
          <div class="comment-lines">Lines 544–544</div>
        </div>
        
        <div class="comment-block" data-text="Update executes a function within the context of a read-write managed transaction.
If no error is returned from the function then the transaction is committed.
If an error is returned then the entire transaction is rolled back.
Any error that is returned from the function or returned from the commit is
returned from the Update() method.

Attempting to manually commit or rollback within the function will cause a panic.
">
          <div class="comment-context">
            function — Update
          </div>
          <div class="comment-text">Update executes a function within the context of a read-write managed transaction.
If no error is returned from the function then the transaction is committed.
If an error is returned then the entire transaction is rolled back.
Any error that is returned from the function or returned from the commit is
returned from the Update() method.

Attempting to manually commit or rollback within the function will cause a panic.
</div>
          <div class="comment-lines">Lines 574–580</div>
        </div>
        
        <div class="comment-block" data-text="View executes a function within the context of a managed read-only transaction.
Any error that is returned from the function is returned from the View() method.

Attempting to manually rollback within the function will cause a panic.
">
          <div class="comment-context">
            function — View
          </div>
          <div class="comment-text">View executes a function within the context of a managed read-only transaction.
Any error that is returned from the function is returned from the View() method.

Attempting to manually rollback within the function will cause a panic.
</div>
          <div class="comment-lines">Lines 608–611</div>
        </div>
        
        <div class="comment-block" data-text="Batch calls fn as part of a batch. It behaves similar to Update,
except:

1. concurrent Batch calls can be combined into a single Bolt
transaction.

2. the function passed to Batch may be called multiple times,
regardless of whether it returns error or not.

This means that Batch function side effects must be idempotent and
take permanent effect only after a successful return is seen in
caller.

The maximum batch size and delay can be adjusted with DB.MaxBatchSize
and DB.MaxBatchDelay, respectively.

Batch is only useful when there are multiple goroutines calling it.
">
          <div class="comment-context">
            function — Batch
          </div>
          <div class="comment-text">Batch calls fn as part of a batch. It behaves similar to Update,
except:

1. concurrent Batch calls can be combined into a single Bolt
transaction.

2. the function passed to Batch may be called multiple times,
regardless of whether it returns error or not.

This means that Batch function side effects must be idempotent and
take permanent effect only after a successful return is seen in
caller.

The maximum batch size and delay can be adjusted with DB.MaxBatchSize
and DB.MaxBatchDelay, respectively.

Batch is only useful when there are multiple goroutines calling it.
</div>
          <div class="comment-lines">Lines 643–659</div>
        </div>
        
        <div class="comment-block" data-text="trigger runs the batch if it hasn't already been run.
">
          <div class="comment-context">
            function — trigger
          </div>
          <div class="comment-text">trigger runs the batch if it hasn't already been run.
</div>
          <div class="comment-lines">Lines 697–697</div>
        </div>
        
        <div class="comment-block" data-text="run performs the transactions in the batch and communicates results
back to DB.Batch.
">
          <div class="comment-context">
            function — run
          </div>
          <div class="comment-text">run performs the transactions in the batch and communicates results
back to DB.Batch.
</div>
          <div class="comment-lines">Lines 702–703</div>
        </div>
        
        <div class="comment-block" data-text="Sync executes fdatasync() against the database file handle.

This is not necessary under normal operation, however, if you use NoSync
then it allows you to force the database file to sync against the disk.
">
          <div class="comment-context">
            function — Sync
          </div>
          <div class="comment-text">Sync executes fdatasync() against the database file handle.

This is not necessary under normal operation, however, if you use NoSync
then it allows you to force the database file to sync against the disk.
</div>
          <div class="comment-lines">Lines 771–774</div>
        </div>
        
        <div class="comment-block" data-text="Stats retrieves ongoing performance stats for the database.
This is only updated when a transaction closes.
">
          <div class="comment-context">
            function — Stats
          </div>
          <div class="comment-text">Stats retrieves ongoing performance stats for the database.
This is only updated when a transaction closes.
</div>
          <div class="comment-lines">Lines 777–778</div>
        </div>
        
        <div class="comment-block" data-text="This is for internal access to the raw data bytes from the C cursor, use
carefully, or not at all.
">
          <div class="comment-context">
            function — Info
          </div>
          <div class="comment-text">This is for internal access to the raw data bytes from the C cursor, use
carefully, or not at all.
</div>
          <div class="comment-lines">Lines 785–786</div>
        </div>
        
        <div class="comment-block" data-text="page retrieves a page reference from the mmap based on the current page size.
">
          <div class="comment-context">
            function — page
          </div>
          <div class="comment-text">page retrieves a page reference from the mmap based on the current page size.
</div>
          <div class="comment-lines">Lines 791–791</div>
        </div>
        
        <div class="comment-block" data-text="pageInBuffer retrieves a page reference from a given byte array based on the current page size.
">
          <div class="comment-context">
            function — pageInBuffer
          </div>
          <div class="comment-text">pageInBuffer retrieves a page reference from a given byte array based on the current page size.
</div>
          <div class="comment-lines">Lines 797–797</div>
        </div>
        
        <div class="comment-block" data-text="meta retrieves the current meta page reference.
">
          <div class="comment-context">
            function — meta
          </div>
          <div class="comment-text">meta retrieves the current meta page reference.
</div>
          <div class="comment-lines">Lines 802–802</div>
        </div>
        
        <div class="comment-block" data-text="allocate returns a contiguous block of memory starting at a given page.
">
          <div class="comment-context">
            function — allocate
          </div>
          <div class="comment-text">allocate returns a contiguous block of memory starting at a given page.
</div>
          <div class="comment-lines">Lines 826–826</div>
        </div>
        
        <div class="comment-block" data-text="grow grows the size of the database to the given sz.
">
          <div class="comment-context">
            function — grow
          </div>
          <div class="comment-text">grow grows the size of the database to the given sz.
</div>
          <div class="comment-lines">Lines 858–858</div>
        </div>
        
        <div class="comment-block" data-text="Sub calculates and returns the difference between two sets of database stats.
This is useful when obtaining stats at two different points and time and
you need the performance counters that occurred within that time span.
">
          <div class="comment-context">
            function — Sub
          </div>
          <div class="comment-text">Sub calculates and returns the difference between two sets of database stats.
This is useful when obtaining stats at two different points and time and
you need the performance counters that occurred within that time span.
</div>
          <div class="comment-lines">Lines 944–946</div>
        </div>
        
        <div class="comment-block" data-text="validate checks the marker bytes and version of the meta page to ensure it matches this binary.
">
          <div class="comment-context">
            function — validate
          </div>
          <div class="comment-text">validate checks the marker bytes and version of the meta page to ensure it matches this binary.
</div>
          <div class="comment-lines">Lines 982–982</div>
        </div>
        
        <div class="comment-block" data-text="copy copies one meta object to another.
">
          <div class="comment-context">
            function — copy
          </div>
          <div class="comment-text">copy copies one meta object to another.
</div>
          <div class="comment-lines">Lines 994–994</div>
        </div>
        
        <div class="comment-block" data-text="write writes the meta onto a page.
">
          <div class="comment-context">
            function — write
          </div>
          <div class="comment-text">write writes the meta onto a page.
</div>
          <div class="comment-lines">Lines 999–999</div>
        </div>
        
        <div class="comment-block" data-text="generates the checksum for the meta.
">
          <div class="comment-context">
            function — sum64
          </div>
          <div class="comment-text">generates the checksum for the meta.
</div>
          <div class="comment-lines">Lines 1017–1017</div>
        </div>
        
        <div class="comment-block" data-text="_assert will panic with a given formatted message if the given condition is false.
">
          <div class="comment-context">
            function — _assert
          </div>
          <div class="comment-text">_assert will panic with a given formatted message if the given condition is false.
</div>
          <div class="comment-lines">Lines 1024–1024</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="type">
        <h3>type</h3>

        
        <div class="comment-block" data-text="DB represents a collection of buckets persisted to a file on disk.
All data access is performed through transactions which can be obtained through the DB.
All the functions on DB will return a ErrDatabaseNotOpen if accessed before Open() is called.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">DB represents a collection of buckets persisted to a file on disk.
All data access is performed through transactions which can be obtained through the DB.
All the functions on DB will return a ErrDatabaseNotOpen if accessed before Open() is called.
</div>
          <div class="comment-lines">Lines 42–44</div>
        </div>
        
        <div class="comment-block" data-text="Options represents the options that can be set when opening a database.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">Options represents the options that can be set when opening a database.
</div>
          <div class="comment-lines">Lines 894–894</div>
        </div>
        
        <div class="comment-block" data-text="Stats represents statistics about the database.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">Stats represents statistics about the database.
</div>
          <div class="comment-lines">Lines 929–929</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="default page size for db is set to the OS page size.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">default page size for db is set to the OS page size.
</div>
          <div class="comment-lines">Lines 39–39</div>
        </div>
        
        <div class="comment-block" data-text="Read the first meta page to determine the page size.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Read the first meta page to determine the page size.
</div>
          <div class="comment-lines">Lines 203–203</div>
        </div>
        
        <div class="comment-block" data-text="Ensure the size is at least the minimum size.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Ensure the size is at least the minimum size.
</div>
          <div class="comment-lines">Lines 256–256</div>
        </div>
        
        <div class="comment-block" data-text="Free any pages associated with closed read-only transactions.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Free any pages associated with closed read-only transactions.
</div>
          <div class="comment-lines">Lines 530–530</div>
        </div>
        
        <div class="comment-block" data-text="trySolo is a special sentinel error value used for signaling that a
transaction function should be re-run. It should never be seen by
callers.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">trySolo is a special sentinel error value used for signaling that a
transaction function should be re-run. It should never be seen by
callers.
</div>
          <div class="comment-lines">Lines 746–748</div>
        </div>
        
        <div class="comment-block" data-text="Allocate a temporary buffer for the page.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Allocate a temporary buffer for the page.
</div>
          <div class="comment-lines">Lines 828–828</div>
        </div>
        
        <div class="comment-block" data-text="DefaultOptions represent the options used if nil options are passed into Open().
No timeout is used which will cause Bolt to wait indefinitely for a lock.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">DefaultOptions represent the options used if nil options are passed into Open().
No timeout is used which will cause Bolt to wait indefinitely for a lock.
</div>
          <div class="comment-lines">Lines 922–923</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_node.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">node.go</div>
    <hr>

    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="root returns the top-level node this node is attached to.
">
          <div class="comment-context">
            function — root
          </div>
          <div class="comment-text">root returns the top-level node this node is attached to.
</div>
          <div class="comment-lines">Lines 23–23</div>
        </div>
        
        <div class="comment-block" data-text="minKeys returns the minimum number of inodes this node should have.
">
          <div class="comment-context">
            function — minKeys
          </div>
          <div class="comment-text">minKeys returns the minimum number of inodes this node should have.
</div>
          <div class="comment-lines">Lines 31–31</div>
        </div>
        
        <div class="comment-block" data-text="size returns the size of the node after serialization.
">
          <div class="comment-context">
            function — size
          </div>
          <div class="comment-text">size returns the size of the node after serialization.
</div>
          <div class="comment-lines">Lines 39–39</div>
        </div>
        
        <div class="comment-block" data-text="sizeLessThan returns true if the node is less than a given size.
This is an optimization to avoid calculating a large node when we only need
to know if it fits inside a certain page size.
">
          <div class="comment-context">
            function — sizeLessThan
          </div>
          <div class="comment-text">sizeLessThan returns true if the node is less than a given size.
This is an optimization to avoid calculating a large node when we only need
to know if it fits inside a certain page size.
</div>
          <div class="comment-lines">Lines 49–51</div>
        </div>
        
        <div class="comment-block" data-text="pageElementSize returns the size of each page element based on the type of node.
">
          <div class="comment-context">
            function — pageElementSize
          </div>
          <div class="comment-text">pageElementSize returns the size of each page element based on the type of node.
</div>
          <div class="comment-lines">Lines 64–64</div>
        </div>
        
        <div class="comment-block" data-text="childAt returns the child node at a given index.
">
          <div class="comment-context">
            function — childAt
          </div>
          <div class="comment-text">childAt returns the child node at a given index.
</div>
          <div class="comment-lines">Lines 72–72</div>
        </div>
        
        <div class="comment-block" data-text="childIndex returns the index of a given child node.
">
          <div class="comment-context">
            function — childIndex
          </div>
          <div class="comment-text">childIndex returns the index of a given child node.
</div>
          <div class="comment-lines">Lines 80–80</div>
        </div>
        
        <div class="comment-block" data-text="numChildren returns the number of children.
">
          <div class="comment-context">
            function — numChildren
          </div>
          <div class="comment-text">numChildren returns the number of children.
</div>
          <div class="comment-lines">Lines 86–86</div>
        </div>
        
        <div class="comment-block" data-text="nextSibling returns the next node with the same parent.
">
          <div class="comment-context">
            function — nextSibling
          </div>
          <div class="comment-text">nextSibling returns the next node with the same parent.
</div>
          <div class="comment-lines">Lines 91–91</div>
        </div>
        
        <div class="comment-block" data-text="prevSibling returns the previous node with the same parent.
">
          <div class="comment-context">
            function — prevSibling
          </div>
          <div class="comment-text">prevSibling returns the previous node with the same parent.
</div>
          <div class="comment-lines">Lines 103–103</div>
        </div>
        
        <div class="comment-block" data-text="put inserts a key/value.
">
          <div class="comment-context">
            function — put
          </div>
          <div class="comment-text">put inserts a key/value.
</div>
          <div class="comment-lines">Lines 115–115</div>
        </div>
        
        <div class="comment-block" data-text="del removes a key from the node.
">
          <div class="comment-context">
            function — del
          </div>
          <div class="comment-text">del removes a key from the node.
</div>
          <div class="comment-lines">Lines 143–143</div>
        </div>
        
        <div class="comment-block" data-text="read initializes the node from a page.
">
          <div class="comment-context">
            function — read
          </div>
          <div class="comment-text">read initializes the node from a page.
</div>
          <div class="comment-lines">Lines 160–160</div>
        </div>
        
        <div class="comment-block" data-text="write writes the items onto one or more pages.
">
          <div class="comment-context">
            function — write
          </div>
          <div class="comment-text">write writes the items onto one or more pages.
</div>
          <div class="comment-lines">Lines 190–190</div>
        </div>
        
        <div class="comment-block" data-text="split breaks up a node into multiple smaller nodes, if appropriate.
This should only be called from the spill() function.
">
          <div class="comment-context">
            function — split
          </div>
          <div class="comment-text">split breaks up a node into multiple smaller nodes, if appropriate.
This should only be called from the spill() function.
</div>
          <div class="comment-lines">Lines 248–249</div>
        </div>
        
        <div class="comment-block" data-text="splitTwo breaks up a node into two smaller nodes, if appropriate.
This should only be called from the split() function.
">
          <div class="comment-context">
            function — splitTwo
          </div>
          <div class="comment-text">splitTwo breaks up a node into two smaller nodes, if appropriate.
This should only be called from the split() function.
</div>
          <div class="comment-lines">Lines 271–272</div>
        </div>
        
        <div class="comment-block" data-text="splitIndex finds the position where a page will fill a given threshold.
It returns the index as well as the size of the first page.
This is only be called from split().
">
          <div class="comment-context">
            function — splitIndex
          </div>
          <div class="comment-text">splitIndex finds the position where a page will fill a given threshold.
It returns the index as well as the size of the first page.
This is only be called from split().
</div>
          <div class="comment-lines">Lines 312–314</div>
        </div>
        
        <div class="comment-block" data-text="spill writes the nodes to dirty pages and splits nodes as it goes.
Returns an error if dirty pages cannot be allocated.
">
          <div class="comment-context">
            function — spill
          </div>
          <div class="comment-text">spill writes the nodes to dirty pages and splits nodes as it goes.
Returns an error if dirty pages cannot be allocated.
</div>
          <div class="comment-lines">Lines 337–338</div>
        </div>
        
        <div class="comment-block" data-text="rebalance attempts to combine the node with sibling nodes if the node fill
size is below a threshold or if there are not enough keys.
">
          <div class="comment-context">
            function — rebalance
          </div>
          <div class="comment-text">rebalance attempts to combine the node with sibling nodes if the node fill
size is below a threshold or if there are not enough keys.
</div>
          <div class="comment-lines">Lines 407–408</div>
        </div>
        
        <div class="comment-block" data-text="removes a node from the list of in-memory children.
This does not affect the inodes.
">
          <div class="comment-context">
            function — removeChild
          </div>
          <div class="comment-text">removes a node from the list of in-memory children.
This does not affect the inodes.
</div>
          <div class="comment-lines">Lines 510–511</div>
        </div>
        
        <div class="comment-block" data-text="dereference causes the node to copy all its inode key/value references to heap memory.
This is required when the mmap is reallocated so inodes are not pointing to stale data.
">
          <div class="comment-context">
            function — dereference
          </div>
          <div class="comment-text">dereference causes the node to copy all its inode key/value references to heap memory.
This is required when the mmap is reallocated so inodes are not pointing to stale data.
</div>
          <div class="comment-lines">Lines 521–522</div>
        </div>
        
        <div class="comment-block" data-text="free adds the node's underlying page to the freelist.
">
          <div class="comment-context">
            function — free
          </div>
          <div class="comment-text">free adds the node's underlying page to the freelist.
</div>
          <div class="comment-lines">Lines 553–553</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="type">
        <h3>type</h3>

        
        <div class="comment-block" data-text="node represents an in-memory, deserialized page.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">node represents an in-memory, deserialized page.
</div>
          <div class="comment-lines">Lines 10–10</div>
        </div>
        
        <div class="comment-block" data-text="inode represents an internal node inside of a node.
It can be used to point to elements in a page or point
to an element which hasn't been added to a page yet.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">inode represents an internal node inside of a node.
It can be used to point to elements in a page or point
to an element which hasn't been added to a page yet.
</div>
          <div class="comment-lines">Lines 594–596</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Determine the threshold before starting a new node.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Determine the threshold before starting a new node.
</div>
          <div class="comment-lines">Lines 280–280</div>
        </div>
        
        <div class="comment-block" data-text="Split nodes into appropriate sizes. The first node will always be n.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Split nodes into appropriate sizes. The first node will always be n.
</div>
          <div class="comment-lines">Lines 358–358</div>
        </div>
        
        <div class="comment-block" data-text="Ignore if node is above threshold (25%) and has enough keys.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Ignore if node is above threshold (25%) and has enough keys.
</div>
          <div class="comment-lines">Lines 418–418</div>
        </div>
        
        <div class="comment-block" data-text="Destination node is right sibling if idx == 0, otherwise left sibling.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Destination node is right sibling if idx == 0, otherwise left sibling.
</div>
          <div class="comment-lines">Lines 462–462</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_page.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">page.go</div>
    <hr>

    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="typ returns a human readable page type string used for debugging.
">
          <div class="comment-context">
            function — typ
          </div>
          <div class="comment-text">typ returns a human readable page type string used for debugging.
</div>
          <div class="comment-lines">Lines 38–38</div>
        </div>
        
        <div class="comment-block" data-text="meta returns a pointer to the metadata section of the page.
">
          <div class="comment-context">
            function — meta
          </div>
          <div class="comment-text">meta returns a pointer to the metadata section of the page.
</div>
          <div class="comment-lines">Lines 52–52</div>
        </div>
        
        <div class="comment-block" data-text="leafPageElement retrieves the leaf node by index
">
          <div class="comment-context">
            function — leafPageElement
          </div>
          <div class="comment-text">leafPageElement retrieves the leaf node by index
</div>
          <div class="comment-lines">Lines 57–57</div>
        </div>
        
        <div class="comment-block" data-text="leafPageElements retrieves a list of leaf nodes.
">
          <div class="comment-context">
            function — leafPageElements
          </div>
          <div class="comment-text">leafPageElements retrieves a list of leaf nodes.
</div>
          <div class="comment-lines">Lines 63–63</div>
        </div>
        
        <div class="comment-block" data-text="branchPageElement retrieves the branch node by index
">
          <div class="comment-context">
            function — branchPageElement
          </div>
          <div class="comment-text">branchPageElement retrieves the branch node by index
</div>
          <div class="comment-lines">Lines 71–71</div>
        </div>
        
        <div class="comment-block" data-text="branchPageElements retrieves a list of branch nodes.
">
          <div class="comment-context">
            function — branchPageElements
          </div>
          <div class="comment-text">branchPageElements retrieves a list of branch nodes.
</div>
          <div class="comment-lines">Lines 76–76</div>
        </div>
        
        <div class="comment-block" data-text="dump writes n bytes of the page to STDERR as hex output.
">
          <div class="comment-context">
            function — hexdump
          </div>
          <div class="comment-text">dump writes n bytes of the page to STDERR as hex output.
</div>
          <div class="comment-lines">Lines 84–84</div>
        </div>
        
        <div class="comment-block" data-text="key returns a byte slice of the node key.
">
          <div class="comment-context">
            function — key
          </div>
          <div class="comment-text">key returns a byte slice of the node key.
</div>
          <div class="comment-lines">Lines 103–103</div>
        </div>
        
        <div class="comment-block" data-text="key returns a byte slice of the node key.
">
          <div class="comment-context">
            function — key
          </div>
          <div class="comment-text">key returns a byte slice of the node key.
</div>
          <div class="comment-lines">Lines 117–117</div>
        </div>
        
        <div class="comment-block" data-text="value returns a byte slice of the node value.
">
          <div class="comment-context">
            function — value
          </div>
          <div class="comment-text">value returns a byte slice of the node value.
</div>
          <div class="comment-lines">Lines 123–123</div>
        </div>
        
        <div class="comment-block" data-text="merge returns the sorted union of a and b.
">
          <div class="comment-context">
            function — merge
          </div>
          <div class="comment-text">merge returns the sorted union of a and b.
</div>
          <div class="comment-lines">Lines 143–143</div>
        </div>
        
        <div class="comment-block" data-text="mergepgids copies the sorted union of a and b into dst.
If dst is too small, it panics.
">
          <div class="comment-context">
            function — mergepgids
          </div>
          <div class="comment-text">mergepgids copies the sorted union of a and b into dst.
If dst is too small, it panics.
</div>
          <div class="comment-lines">Lines 157–158</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="type">
        <h3>type</h3>

        
        <div class="comment-block" data-text="branchPageElement represents a node on a branch page.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">branchPageElement represents a node on a branch page.
</div>
          <div class="comment-lines">Lines 96–96</div>
        </div>
        
        <div class="comment-block" data-text="leafPageElement represents a node on a leaf page.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">leafPageElement represents a node on a leaf page.
</div>
          <div class="comment-lines">Lines 109–109</div>
        </div>
        
        <div class="comment-block" data-text="PageInfo represents human readable information about a page.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">PageInfo represents human readable information about a page.
</div>
          <div class="comment-lines">Lines 129–129</div>
        </div>
        
      </div>
    
  </div>
  
  <div class="file-doc" id="file_tx.go" style="display:none;">
    <div class="package-name">package bolt</div>
    <div class="file-path">tx.go</div>
    <hr>

    
      <div class="context-group" data-context="function">
        <h3>function</h3>

        
        <div class="comment-block" data-text="init initializes the transaction.
">
          <div class="comment-context">
            function — init
          </div>
          <div class="comment-text">init initializes the transaction.
</div>
          <div class="comment-lines">Lines 43–43</div>
        </div>
        
        <div class="comment-block" data-text="ID returns the transaction id.
">
          <div class="comment-context">
            function — ID
          </div>
          <div class="comment-text">ID returns the transaction id.
</div>
          <div class="comment-lines">Lines 64–64</div>
        </div>
        
        <div class="comment-block" data-text="DB returns a reference to the database that created the transaction.
">
          <div class="comment-context">
            function — DB
          </div>
          <div class="comment-text">DB returns a reference to the database that created the transaction.
</div>
          <div class="comment-lines">Lines 69–69</div>
        </div>
        
        <div class="comment-block" data-text="Size returns current database size in bytes as seen by this transaction.
">
          <div class="comment-context">
            function — Size
          </div>
          <div class="comment-text">Size returns current database size in bytes as seen by this transaction.
</div>
          <div class="comment-lines">Lines 74–74</div>
        </div>
        
        <div class="comment-block" data-text="Writable returns whether the transaction can perform write operations.
">
          <div class="comment-context">
            function — Writable
          </div>
          <div class="comment-text">Writable returns whether the transaction can perform write operations.
</div>
          <div class="comment-lines">Lines 79–79</div>
        </div>
        
        <div class="comment-block" data-text="Cursor creates a cursor associated with the root bucket.
All items in the cursor will return a nil value because all root bucket keys point to buckets.
The cursor is only valid as long as the transaction is open.
Do not use a cursor after the transaction is closed.
">
          <div class="comment-context">
            function — Cursor
          </div>
          <div class="comment-text">Cursor creates a cursor associated with the root bucket.
All items in the cursor will return a nil value because all root bucket keys point to buckets.
The cursor is only valid as long as the transaction is open.
Do not use a cursor after the transaction is closed.
</div>
          <div class="comment-lines">Lines 84–87</div>
        </div>
        
        <div class="comment-block" data-text="Stats retrieves a copy of the current transaction statistics.
">
          <div class="comment-context">
            function — Stats
          </div>
          <div class="comment-text">Stats retrieves a copy of the current transaction statistics.
</div>
          <div class="comment-lines">Lines 92–92</div>
        </div>
        
        <div class="comment-block" data-text="Bucket retrieves a bucket by name.
Returns nil if the bucket does not exist.
The bucket instance is only valid for the lifetime of the transaction.
">
          <div class="comment-context">
            function — Bucket
          </div>
          <div class="comment-text">Bucket retrieves a bucket by name.
Returns nil if the bucket does not exist.
The bucket instance is only valid for the lifetime of the transaction.
</div>
          <div class="comment-lines">Lines 97–99</div>
        </div>
        
        <div class="comment-block" data-text="CreateBucket creates a new bucket.
Returns an error if the bucket already exists, if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
">
          <div class="comment-context">
            function — CreateBucket
          </div>
          <div class="comment-text">CreateBucket creates a new bucket.
Returns an error if the bucket already exists, if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
</div>
          <div class="comment-lines">Lines 104–106</div>
        </div>
        
        <div class="comment-block" data-text="CreateBucketIfNotExists creates a new bucket if it doesn't already exist.
Returns an error if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
">
          <div class="comment-context">
            function — CreateBucketIfNotExists
          </div>
          <div class="comment-text">CreateBucketIfNotExists creates a new bucket if it doesn't already exist.
Returns an error if the bucket name is blank, or if the bucket name is too long.
The bucket instance is only valid for the lifetime of the transaction.
</div>
          <div class="comment-lines">Lines 111–113</div>
        </div>
        
        <div class="comment-block" data-text="DeleteBucket deletes a bucket.
Returns an error if the bucket cannot be found or if the key represents a non-bucket value.
">
          <div class="comment-context">
            function — DeleteBucket
          </div>
          <div class="comment-text">DeleteBucket deletes a bucket.
Returns an error if the bucket cannot be found or if the key represents a non-bucket value.
</div>
          <div class="comment-lines">Lines 118–119</div>
        </div>
        
        <div class="comment-block" data-text="ForEach executes a function for each bucket in the root.
If the provided function returns an error then the iteration is stopped and
the error is returned to the caller.
">
          <div class="comment-context">
            function — ForEach
          </div>
          <div class="comment-text">ForEach executes a function for each bucket in the root.
If the provided function returns an error then the iteration is stopped and
the error is returned to the caller.
</div>
          <div class="comment-lines">Lines 124–126</div>
        </div>
        
        <div class="comment-block" data-text="OnCommit adds a handler function to be executed after the transaction successfully commits.
">
          <div class="comment-context">
            function — OnCommit
          </div>
          <div class="comment-text">OnCommit adds a handler function to be executed after the transaction successfully commits.
</div>
          <div class="comment-lines">Lines 136–136</div>
        </div>
        
        <div class="comment-block" data-text="Commit writes all changes to disk and updates the meta page.
Returns an error if a disk write error occurs, or if Commit is
called on a read-only transaction.
">
          <div class="comment-context">
            function — Commit
          </div>
          <div class="comment-text">Commit writes all changes to disk and updates the meta page.
Returns an error if a disk write error occurs, or if Commit is
called on a read-only transaction.
</div>
          <div class="comment-lines">Lines 141–143</div>
        </div>
        
        <div class="comment-block" data-text="Rollback closes the transaction and ignores all previous updates. Read-only
transactions must be rolled back and not committed.
">
          <div class="comment-context">
            function — Rollback
          </div>
          <div class="comment-text">Rollback closes the transaction and ignores all previous updates. Read-only
transactions must be rolled back and not committed.
</div>
          <div class="comment-lines">Lines 238–239</div>
        </div>
        
        <div class="comment-block" data-text="Copy writes the entire database to a writer.
This function exists for backwards compatibility.

Deprecated; Use WriteTo() instead.
">
          <div class="comment-context">
            function — Copy
          </div>
          <div class="comment-text">Copy writes the entire database to a writer.
This function exists for backwards compatibility.

Deprecated; Use WriteTo() instead.
</div>
          <div class="comment-lines">Lines 293–296</div>
        </div>
        
        <div class="comment-block" data-text="WriteTo writes the entire database to a writer.
If err == nil then exactly tx.Size() bytes will be written into the writer.
">
          <div class="comment-context">
            function — WriteTo
          </div>
          <div class="comment-text">WriteTo writes the entire database to a writer.
If err == nil then exactly tx.Size() bytes will be written into the writer.
</div>
          <div class="comment-lines">Lines 302–303</div>
        </div>
        
        <div class="comment-block" data-text="CopyFile copies the entire database to file at the given path.
A reader transaction is maintained during the copy so it is safe to continue
using the database while a copy is in progress.
">
          <div class="comment-context">
            function — CopyFile
          </div>
          <div class="comment-text">CopyFile copies the entire database to file at the given path.
A reader transaction is maintained during the copy so it is safe to continue
using the database while a copy is in progress.
</div>
          <div class="comment-lines">Lines 352–354</div>
        </div>
        
        <div class="comment-block" data-text="Check performs several consistency checks on the database for this transaction.
An error is returned if any inconsistency is found.

It can be safely run concurrently on a writable transaction. However, this
incurs a high cost for large databases and databases with a lot of subbuckets
because of caching. This overhead can be removed if running on a read-only
transaction, however, it is not safe to execute other writer transactions at
the same time.
">
          <div class="comment-context">
            function — Check
          </div>
          <div class="comment-text">Check performs several consistency checks on the database for this transaction.
An error is returned if any inconsistency is found.

It can be safely run concurrently on a writable transaction. However, this
incurs a high cost for large databases and databases with a lot of subbuckets
because of caching. This overhead can be removed if running on a read-only
transaction, however, it is not safe to execute other writer transactions at
the same time.
</div>
          <div class="comment-lines">Lines 369–376</div>
        </div>
        
        <div class="comment-block" data-text="allocate returns a contiguous block of memory starting at a given page.
">
          <div class="comment-context">
            function — allocate
          </div>
          <div class="comment-text">allocate returns a contiguous block of memory starting at a given page.
</div>
          <div class="comment-lines">Lines 456–456</div>
        </div>
        
        <div class="comment-block" data-text="write writes any dirty pages to disk.
">
          <div class="comment-context">
            function — write
          </div>
          <div class="comment-text">write writes any dirty pages to disk.
</div>
          <div class="comment-lines">Lines 473–473</div>
        </div>
        
        <div class="comment-block" data-text="writeMeta writes the meta to the disk.
">
          <div class="comment-context">
            function — writeMeta
          </div>
          <div class="comment-text">writeMeta writes the meta to the disk.
</div>
          <div class="comment-lines">Lines 546–546</div>
        </div>
        
        <div class="comment-block" data-text="page returns a reference to the page with a given id.
If page has been written to then a temporary buffered page is returned.
">
          <div class="comment-context">
            function — page
          </div>
          <div class="comment-text">page returns a reference to the page with a given id.
If page has been written to then a temporary buffered page is returned.
</div>
          <div class="comment-lines">Lines 569–570</div>
        </div>
        
        <div class="comment-block" data-text="forEachPage iterates over every page within a given page and executes a function.
">
          <div class="comment-context">
            function — forEachPage
          </div>
          <div class="comment-text">forEachPage iterates over every page within a given page and executes a function.
</div>
          <div class="comment-lines">Lines 583–583</div>
        </div>
        
        <div class="comment-block" data-text="Page returns page information for a given page number.
This is only safe for concurrent use when used by a writable transaction.
">
          <div class="comment-context">
            function — Page
          </div>
          <div class="comment-text">Page returns page information for a given page number.
This is only safe for concurrent use when used by a writable transaction.
</div>
          <div class="comment-lines">Lines 599–600</div>
        </div>
        
        <div class="comment-block" data-text="Sub calculates and returns the difference between two sets of transaction stats.
This is useful when obtaining stats at two different points and time and
you need the performance counters that occurred within that time span.
">
          <div class="comment-context">
            function — Sub
          </div>
          <div class="comment-text">Sub calculates and returns the difference between two sets of transaction stats.
This is useful when obtaining stats at two different points and time and
you need the performance counters that occurred within that time span.
</div>
          <div class="comment-lines">Lines 668–670</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="type">
        <h3>type</h3>

        
        <div class="comment-block" data-text="txid represents the internal transaction identifier.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">txid represents the internal transaction identifier.
</div>
          <div class="comment-lines">Lines 13–13</div>
        </div>
        
        <div class="comment-block" data-text="Tx represents a read-only or read/write transaction on the database.
Read-only transactions can be used for retrieving values for keys and creating cursors.
Read/write transactions can create and remove buckets and create and remove keys.

IMPORTANT: You must commit or rollback transactions when you are done with
them. Pages can not be reclaimed by the writer until no more transactions
are using them. A long running read transaction can cause the database to
quickly grow.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">Tx represents a read-only or read/write transaction on the database.
Read-only transactions can be used for retrieving values for keys and creating cursors.
Read/write transactions can create and remove buckets and create and remove keys.

IMPORTANT: You must commit or rollback transactions when you are done with
them. Pages can not be reclaimed by the writer until no more transactions
are using them. A long running read transaction can cause the database to
quickly grow.
</div>
          <div class="comment-lines">Lines 16–23</div>
        </div>
        
        <div class="comment-block" data-text="TxStats represents statistics about the actions performed by the transaction.
">
          <div class="comment-context">
            type
          </div>
          <div class="comment-text">TxStats represents statistics about the actions performed by the transaction.
</div>
          <div class="comment-lines">Lines 626–626</div>
        </div>
        
      </div>
    
      <div class="context-group" data-context="var">
        <h3>var</h3>

        
        <div class="comment-block" data-text="Rebalance nodes which have had deletions.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Rebalance nodes which have had deletions.
</div>
          <div class="comment-lines">Lines 154–154</div>
        </div>
        
        <div class="comment-block" data-text="Grab freelist stats.
">
          <div class="comment-context">
            var
          </div>
          <div class="comment-text">Grab freelist stats.
</div>
          <div class="comment-lines">Lines 265–265</div>
        </div>
        
      </div>
    
  </div>
  
</div>

<script>
(function() {
  const items = document.querySelectorAll('.file-item');
  const docs  = document.querySelectorAll('.file-doc');
  const searchBox = document.getElementById('searchBox');

  function show(id) {
    docs.forEach(d => d.style.display = (d.id === id ? 'block' : 'none'));
    items.forEach(i => i.classList.toggle('active', i.getAttribute('data-target') === id));
  }

  if (items.length > 0) {
    show(items[0].getAttribute('data-target'));
  }

  items.forEach(item => {
    item.addEventListener('click', () => {
      show(item.getAttribute('data-target'));
      applySearch(); // re-filter content when switching files
    });
  });

  function highlight(text, query) {
    if (!query) return text;
    const regex = new RegExp("(" + query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + ")", "gi");
    return text.replace(regex, "<mark>$1</mark>");
  }

  function applySearch() {
    const q = searchBox.value.toLowerCase();

    // Filter left panel (file list)
    items.forEach(item => {
      const name = item.getAttribute('data-name').toLowerCase();
      const content = item.getAttribute('data-content').toLowerCase();
      const match = name.includes(q) || content.includes(q);
      item.style.display = match ? 'block' : 'none';
    });

    // Filter right panel (content)
    docs.forEach(doc => {
      if (doc.style.display === 'none') return;

      const groups = doc.querySelectorAll('.context-group');

      groups.forEach(group => {
        let groupVisible = false;
        const blocks = group.querySelectorAll('.comment-block');

        blocks.forEach(block => {
          const text = block.getAttribute('data-text');
          const match = text.toLowerCase().includes(q);

          if (match) {
            block.style.display = 'block';
            block.querySelector('.comment-text').innerHTML = highlight(text, q);
            groupVisible = true;
          } else {
            block.style.display = 'none';
          }
        });

        group.style.display = groupVisible ? 'block' : 'none';
      });
    });
  }

  searchBox.addEventListener('input', applySearch);
})();
</script>

</body>
</html>
